(self.webpackChunktomp=self.webpackChunktomp||[]).push([[8673],{1326:function(V){V.exports={header:"header___2-ltk",title:"title___2GYSp",save:"save___1tFEd"}},18067:function(){},89968:function(V,R,e){"use strict";var c=e(11849),v=e(93224),z=e(39162),n=e(85893),b=function(K){var j=K.config,N=K.readonly,a=K.standard,A=(0,v.Z)(K,["config","readonly","standard"]),o=(0,z.M_)(j.type);return(0,n.jsx)(o,(0,c.Z)((0,c.Z)({"data-inspector-line":"9","data-inspector-column":"4","data-inspector-relative-path":"src/components/TemplateEngine/FormRender.tsx"},A),{},{title:j.title||j.key,standard:a||j.type==="object"||void 0,config:j,readonly:N}))};R.Z=b},8378:function(V,R,e){"use strict";var c=e(71748),v=e(33860),z=e(9715),n=e(86585),b=e(13254),g=e(14277),K=e(2824),j=e(67294),N=e(89968),a=e(39162),A=e(85893),o=function(s){var p=s.template,x=s.loading,y=(0,j.useState)(),h=(0,K.Z)(y,2),T=h[0],C=h[1];return(0,j.useEffect)(function(){C((0,a.$M)(p))},[p]),(0,A.jsx)(v.Z,{"data-inspector-line":"25","data-inspector-column":"4","data-inspector-relative-path":"src/components/TemplateEngine/index.tsx",active:!0,loading:x,children:(0,A.jsx)(j.Suspense,{"data-inspector-line":"26","data-inspector-column":"6","data-inspector-relative-path":"src/components/TemplateEngine/index.tsx",fallback:!1,children:(0,A.jsx)(n.Z,{"data-inspector-line":"27","data-inspector-column":"8","data-inspector-relative-path":"src/components/TemplateEngine/index.tsx",name:s.name||"TemplateEngine",form:s.form,initialValues:s.value,children:Array.isArray(T)?T.map(function(F){return(0,A.jsx)(N.Z,{"data-inspector-line":"30","data-inspector-column":"14","data-inspector-relative-path":"src/components/TemplateEngine/index.tsx",name:[F.key],config:F,form:s.form,standard:!0,readonly:s.readonly,bordered:s.bordered},F.key)}):(0,A.jsx)(g.Z,{"data-inspector-line":"41","data-inspector-column":"12","data-inspector-relative-path":"src/components/TemplateEngine/index.tsx"})})})})};o.useTemplateEngine=function(){return n.Z.useForm()},R.Z=o},39162:function(V,R,e){"use strict";e.d(R,{$M:function(){return g},M_:function(){return K},$c:function(){return j}});var c=e(3182),v=e(11849),z=e(94043),n=e.n(z),b=e(67294),g=function N(a){if(a instanceof Object){var A=Object.keys(a);return A.map(function(o){return(0,v.Z)((0,v.Z)({},a[o]),{},{children:N(a[o].value),key:o})})}return[]},K=function(a){switch(a){case"object":return(0,b.lazy)(function(){return e.e(7226).then(e.bind(e,37226))});case"map":return(0,b.lazy)(function(){return Promise.all([e.e(9575),e.e(1e3),e.e(1143)]).then(e.bind(e,95995))});case"list":return(0,b.lazy)(function(){return e.e(5999).then(e.bind(e,95999))});case"enum":return(0,b.lazy)(function(){return e.e(5902).then(e.bind(e,15902))});case"string":return(0,b.lazy)(function(){return Promise.all([e.e(9575),e.e(9723)]).then(e.bind(e,79723))});case"bool":return(0,b.lazy)(function(){return e.e(2741).then(e.bind(e,72741))});case"int":case"float":return(0,b.lazy)(function(){return Promise.all([e.e(8047),e.e(7939)]).then(e.bind(e,46467))});default:return(0,b.lazy)(function(){return e.e(4368).then(e.bind(e,34368))})}},j=function(a,A,o){var Z=new Array,s=typeof A=="number"?"\u7B2C".concat(A+1,"\u9879"):A;return a.required&&o!=="array"&&o!=="map"&&Z.push({required:!!a.required,message:"".concat(s,"\u5FC5\u586B")}),a.maxLen?a.minLen?Z.push({pattern:new RegExp("^.{".concat(a.minLen,",").concat(a.maxLen,"}$")),message:"".concat(s,"\u957F\u5EA6\u5FC5\u987B\u5728").concat(a.minLen,"\u5230").concat(a.maxLen,"\u4E4B\u95F4")}):Z.push({pattern:new RegExp("^.{".concat(0,",",a.maxLen,"}$")),message:"".concat(s,"\u957F\u5EA6\u5FC5\u987B\u5C11\u4E8E").concat(a.maxLen,"\u4F4D")}):a.minLen?Z.push({pattern:new RegExp(".{".concat(a.minLen,",}")),message:"".concat(s,"\u957F\u5EA6\u5FC5\u987B\u591A\u4E8E").concat(a.minLen,"\u4F4D")}):a.len&&Z.push({pattern:new RegExp("^.{".concat(a.len,"}$")),message:"".concat(s,"\u957F\u5EA6\u9700\u4E3A").concat(a.len,"\u4F4D")}),o==="number"&&(a.gte&&Z.push({min:a.gte,type:o,message:"".concat(s,"\u5FC5\u987B\u5927\u4E8E").concat(a.gte)}),a.lte&&Z.push({max:a.lte,type:o,message:"".concat(s,"\u5FC5\u987B\u5C0F\u4E8E").concat(a.lte)})),o==="array"&&(a.minItems&&Z.push({validator:function(){var p=(0,c.Z)(n().mark(function y(h,T){var C;return n().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(C=T.length,!(C>=a.minItems)){l.next=5;break}return l.abrupt("return",Promise.resolve());case 5:return l.abrupt("return",Promise.reject(new Error(h.message)));case 6:case"end":return l.stop()}},y)}));function x(y,h){return p.apply(this,arguments)}return x}(),message:"".concat(s,"\u4E0D\u80FD\u5C11\u4E8E").concat(a.minItems,"\u6761\u6570\u636E")}),a.maxItems&&Z.push({validator:function(){var p=(0,c.Z)(n().mark(function y(h,T){var C;return n().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(C=T.length,!(C<=a.maxItems)){l.next=5;break}return l.abrupt("return",Promise.resolve());case 5:return l.abrupt("return",Promise.reject(new Error(h.message)));case 6:case"end":return l.stop()}},y)}));function x(y,h){return p.apply(this,arguments)}return x}(),message:"".concat(s,"\u4E0D\u80FD\u591A\u4E8E").concat(a.maxItems,"\u6761\u6570\u636E")})),o==="map"&&(a.minPairs&&Z.push({validator:function(){var p=(0,c.Z)(n().mark(function y(h,T){var C;return n().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(C=Object.keys(T).length,!(C>=a.minPairs)){l.next=5;break}return l.abrupt("return",Promise.resolve());case 5:return l.abrupt("return",Promise.reject(new Error(h.message)));case 6:case"end":return l.stop()}},y)}));function x(y,h){return p.apply(this,arguments)}return x}(),message:"".concat(s,"\u4E0D\u80FD\u5C11\u4E8E").concat(a.minPairs,"\u6761\u6570\u636E")}),a.maxPairs&&Z.push({validator:function(){var p=(0,c.Z)(n().mark(function y(h,T){var C;return n().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(C=Object.keys(T).length,!(C<=a.maxPairs)){l.next=5;break}return l.abrupt("return",Promise.resolve());case 5:return l.abrupt("return",Promise.reject(new Error(h.message)));case 6:case"end":return l.stop()}},y)}));function x(y,h){return p.apply(this,arguments)}return x}(),message:"".concat(s,"\u4E0D\u80FD\u591A\u4E8E").concat(a.maxPairs,"\u6761\u6570\u636E")})),Z}},85809:function(V,R,e){"use strict";e.r(R),e.d(R,{default:function(){return ne}});var c=e(71748),v=e(33860),z=e(13062),n=e(71230),b=e(58024),g=e(39144),K=e(89032),j=e(15746),N=e(32157),a=e(87524),A=e(57663),o=e(71577),Z=e(34792),s=e(48086),p=e(2824),x=e(67294),y=e(2489),h=e(67265),T=e(8378),C={LogConf:{type:"object",rule:{required:!0},value:{mode:{type:"string",rule:{required:!0},value:{}},path:{type:"string",rule:{required:!0},value:{}}}},rediesConf:{type:"object",rule:{required:!0},value:{host:{type:"string",rule:{required:!0},value:{}},type:{type:"string",rule:{required:!0},value:{}}}}},F={sdkMixStream:{title:"SDK\u6DF7\u6D41",type:"bool",rule:{required:!0},value:{}},backendImplementStream:{title:"\u540E\u53F0\u63A5\u5165\u6DF7\u6D41",type:"bool",rule:{required:!0},value:{}},liveroomMixStream:{title:"liveroom\u6DF7\u6D41",type:"bool",rule:{required:!0},value:{}},mixStartCbAddr:{title:"\u6DF7\u6D41\u5F00\u59CB\u56DE\u8C03\u5730\u5740",type:"string",rule:{required:!0},value:{}},mixEndCbAddr:{title:"\u6DF7\u6D41\u7ED3\u675F\u56DE\u8C03\u5730\u5740",type:"string",rule:{required:!0},value:{}}},l={serviceConfigTemplate:C,mixStreamConfigTemplate:F},te=e(1326),G=e.n(te),i=e(85893),ae=function($){var re=T.Z.useTemplateEngine(),se=(0,p.Z)(re,1),d=se[0],t=$.match.params.appId,u=(0,x.useState)([]),P=(0,p.Z)(u,2),m=P[0],D=P[1],O=(0,x.useState)([]),f=(0,p.Z)(O,2),E=f[0],r=f[1],S=(0,x.useState)([]),M=(0,p.Z)(S,2),U=M[0],X=M[1],le=(0,x.useState)(!1),k=(0,p.Z)(le,2),I=k[0],W=k[1],Q=(0,x.useState)(!1),Y=(0,p.Z)(Q,2),H=Y[0],J=Y[1],ie=function(B){console.log("checked:",B),r(B)},w=function(B){console.log("selected:",B),X(B)},_=function(){Array.isArray(E)&&E.length?(J(!0),console.log("onDelivery",E),new Promise(function(B){setTimeout(function(){s.default.success("\u4E0B\u53D1\u914D\u7F6E\u6210\u529F"),B(void 0)},1e3)}).then(function(){J(!1)})):s.default.warn("\u672A\u9009\u62E9\u9700\u8981\u4E0B\u53D1\u7684\u914D\u7F6E")},q=function(){Array.isArray(U)&&U.length?(J(!0),console.log(U[0],d.getFieldsValue()),new Promise(function(B){setTimeout(function(){s.default.success("\u4FDD\u5B58\u914D\u7F6E\u6210\u529F"),B(void 0)},1e3)}).then(function(){J(!1)})):s.default.warn("\u672A\u9009\u62E9\u9700\u8981\u4E0B\u53D1\u7684\u914D\u7F6E")};(0,x.useEffect)(function(){console.log("appId:",t),W(!0),new Promise(function(L){var B={code:0,msg:"ok",data:{dataList:[{title:"\u6240\u6709\u914D\u7F6E",key:"-1",selectable:!1,children:[{title:"\u670D\u52A1\u914D\u7F6E",key:"1"},{title:"\u6DF7\u6D41\u914D\u7F6E",key:"2"}]}]}};setTimeout(function(){L(B),W(!1),X(["1"])},1e3)}).then(function(L){if(L.code===0){var B=L.data||{},ue=B.dataList;D(ue)}else L.msg&&s.default.error(L.msg)})},[t]);var ee=function(){y.m8.goBack()};return(0,i.jsx)(h.ZP,{"data-inspector-line":"126","data-inspector-column":"4","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",title:"\u8C03\u5EA6\u8282\u70B9",onBack:ee,extra:[(0,i.jsx)(o.Z,{"data-inspector-line":"130","data-inspector-column":"8","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",loading:H,type:"primary",onClick:_,children:"\u4E0B\u53D1\u914D\u7F6E"},"submit")],children:(0,i.jsx)(g.Z,{"data-inspector-line":"135","data-inspector-column":"6","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",style:{minHeight:588},children:(0,i.jsx)(v.Z,{"data-inspector-line":"136","data-inspector-column":"8","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",loading:I,children:(0,i.jsxs)(n.Z,{"data-inspector-line":"137","data-inspector-column":"10","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",gutter:24,children:[(0,i.jsx)(j.Z,{"data-inspector-line":"138","data-inspector-column":"12","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",span:6,style:{margin:0,padding:0,borderRight:"1px solid #999"},children:(0,i.jsx)(a.Z,{"data-inspector-line":"139","data-inspector-column":"14","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",style:{minHeight:540},checkable:!0,autoExpandParent:!0,defaultExpandAll:!0,treeData:m,checkedKeys:E,selectedKeys:U,onCheck:ie,onSelect:w})}),(0,i.jsx)(j.Z,{"data-inspector-line":"151","data-inspector-column":"12","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",span:18,children:(0,i.jsx)(g.Z,{"data-inspector-line":"152","data-inspector-column":"14","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",bordered:!1,children:U[0]==="1"?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{"data-inspector-line":"155","data-inspector-column":"20","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",className:G().header,children:[(0,i.jsx)("span",{"data-inspector-line":"156","data-inspector-column":"22","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",className:G().title,children:"\u670D\u52A1\u914D\u7F6E"}),(0,i.jsx)(o.Z,{"data-inspector-line":"157","data-inspector-column":"22","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",loading:H,className:G().save,onClick:q,children:"\u4FDD\u5B58"})]}),(0,i.jsx)(T.Z,{"data-inspector-line":"161","data-inspector-column":"20","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",name:"\u670D\u52A1\u914D\u7F6E",loading:I,form:d,template:C,value:{},bordered:!1},"TemplateEngine")]}):U[0]==="2"?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{"data-inspector-line":"173","data-inspector-column":"20","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",className:G().header,children:[(0,i.jsx)("span",{"data-inspector-line":"174","data-inspector-column":"22","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",className:G().title,children:"\u6DF7\u6D41\u914D\u7F6E"}),(0,i.jsx)(o.Z,{"data-inspector-line":"175","data-inspector-column":"22","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",loading:H,className:G().save,onClick:q,children:"\u4FDD\u5B58"})]}),(0,i.jsx)(T.Z,{"data-inspector-line":"179","data-inspector-column":"20","data-inspector-relative-path":"src/pages/GlobalAdjust/ServiceConfiguration/index.tsx",name:"\u6DF7\u6D41\u914D\u7F6E",loading:I,form:d,template:F,value:{},bordered:!1},"TemplateEngine")]}):(0,i.jsx)(i.Fragment,{})})})]})})})})},ne=ae},33860:function(V,R,e){"use strict";e.d(R,{Z:function(){return se}});var c=e(96156),v=e(22122),z=e(90484),n=e(67294),b=e(94184),g=e.n(b),K=function(t){var u=t.prefixCls,P=t.className,m=t.width,D=t.style;return n.createElement("h3",{className:g()(u,P),style:(0,v.Z)({width:m},D)})},j=K,N=e(85061),a=function(t){var u=function(r){var S=t.width,M=t.rows,U=M===void 0?2:M;if(Array.isArray(S))return S[r];if(U-1===r)return S},P=t.prefixCls,m=t.className,D=t.style,O=t.rows,f=(0,N.Z)(Array(O)).map(function(E,r){return n.createElement("li",{key:r,style:{width:u(r)}})});return n.createElement("ul",{className:g()(P,m),style:D},f)},A=a,o=e(65632),Z=function(t){var u,P,m=t.prefixCls,D=t.className,O=t.style,f=t.size,E=t.shape,r=g()((u={},(0,c.Z)(u,"".concat(m,"-lg"),f==="large"),(0,c.Z)(u,"".concat(m,"-sm"),f==="small"),u)),S=g()((P={},(0,c.Z)(P,"".concat(m,"-circle"),E==="circle"),(0,c.Z)(P,"".concat(m,"-square"),E==="square"),(0,c.Z)(P,"".concat(m,"-round"),E==="round"),P)),M=typeof f=="number"?{width:f,height:f,lineHeight:"".concat(f,"px")}:{};return n.createElement("span",{className:g()(m,r,S,D),style:(0,v.Z)((0,v.Z)({},M),O)})},s=Z,p=e(98423),x=function(t){var u=function(m){var D=m.getPrefixCls,O=t.prefixCls,f=t.className,E=t.active,r=D("skeleton",O),S=(0,p.Z)(t,["prefixCls","className"]),M=g()(r,"".concat(r,"-element"),(0,c.Z)({},"".concat(r,"-active"),E),f);return n.createElement("div",{className:M},n.createElement(s,(0,v.Z)({prefixCls:"".concat(r,"-avatar")},S)))};return n.createElement(o.C,null,u)};x.defaultProps={size:"default",shape:"circle"};var y=x,h=function(t){var u=function(m){var D=m.getPrefixCls,O=t.prefixCls,f=t.className,E=t.active,r=D("skeleton",O),S=(0,p.Z)(t,["prefixCls"]),M=g()(r,"".concat(r,"-element"),(0,c.Z)({},"".concat(r,"-active"),E),f);return n.createElement("div",{className:M},n.createElement(s,(0,v.Z)({prefixCls:"".concat(r,"-button")},S)))};return n.createElement(o.C,null,u)};h.defaultProps={size:"default"};var T=h,C=function(t){var u=function(m){var D=m.getPrefixCls,O=t.prefixCls,f=t.className,E=t.active,r=D("skeleton",O),S=(0,p.Z)(t,["prefixCls"]),M=g()(r,"".concat(r,"-element"),(0,c.Z)({},"".concat(r,"-active"),E),f);return n.createElement("div",{className:M},n.createElement(s,(0,v.Z)({prefixCls:"".concat(r,"-input")},S)))};return n.createElement(o.C,null,u)};C.defaultProps={size:"default"};var F=C,l="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",te=function(t){var u=function(m){var D=m.getPrefixCls,O=t.prefixCls,f=t.className,E=t.style,r=D("skeleton",O),S=g()(r,"".concat(r,"-element"),f);return n.createElement("div",{className:S},n.createElement("div",{className:g()("".concat(r,"-image"),f),style:E},n.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(r,"-image-svg")},n.createElement("path",{d:l,className:"".concat(r,"-image-path")}))))};return n.createElement(o.C,null,u)},G=te;function i(d){return d&&(0,z.Z)(d)==="object"?d:{}}function ae(d,t){return d&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function ne(d,t){return!d&&t?{width:"38%"}:d&&t?{width:"50%"}:{}}function oe(d,t){var u={};return(!d||!t)&&(u.width="61%"),!d&&t?u.rows=3:u.rows=2,u}var $=function(t){var u=function(m){var D=m.getPrefixCls,O=m.direction,f=t.prefixCls,E=t.loading,r=t.className,S=t.children,M=t.avatar,U=t.title,X=t.paragraph,le=t.active,k=t.round,I=D("skeleton",f);if(E||!("loading"in t)){var W,Q=!!M,Y=!!U,H=!!X,J;if(Q){var ie=(0,v.Z)((0,v.Z)({prefixCls:"".concat(I,"-avatar")},ae(Y,H)),i(M));J=n.createElement("div",{className:"".concat(I,"-header")},n.createElement(s,ie))}var w;if(Y||H){var _;if(Y){var q=(0,v.Z)((0,v.Z)({prefixCls:"".concat(I,"-title")},ne(Q,H)),i(U));_=n.createElement(j,q)}var ee;if(H){var L=(0,v.Z)((0,v.Z)({prefixCls:"".concat(I,"-paragraph")},oe(Q,Y)),i(X));ee=n.createElement(A,L)}w=n.createElement("div",{className:"".concat(I,"-content")},_,ee)}var B=g()(I,(W={},(0,c.Z)(W,"".concat(I,"-with-avatar"),Q),(0,c.Z)(W,"".concat(I,"-active"),le),(0,c.Z)(W,"".concat(I,"-rtl"),O==="rtl"),(0,c.Z)(W,"".concat(I,"-round"),k),W),r);return n.createElement("div",{className:B},J,w)}return S};return n.createElement(o.C,null,u)};$.defaultProps={avatar:!1,title:!0,paragraph:!0},$.Button=T,$.Avatar=y,$.Input=F,$.Image=G;var re=$,se=re},71748:function(V,R,e){"use strict";var c=e(65056),v=e.n(c),z=e(18067),n=e.n(z)}}]);
