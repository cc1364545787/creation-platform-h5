(self.webpackChunktomp=self.webpackChunktomp||[]).push([[3629],{34540:function(N,T,n){"use strict";var _=n(67294),O=n(74308),P=n(86190),d=n(66758),c=["fieldProps","proFieldProps"];function D(){return D=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},D.apply(this,arguments)}function v(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);a&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,u)}return t}function x(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?v(Object(t),!0).forEach(function(u){b(e,u,t[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))})}return e}function b(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function R(e,a){if(e==null)return{};var t=m(e,a),u,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)u=i[r],!(a.indexOf(u)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,u)||(t[u]=e[u]))}return t}function m(e,a){if(e==null)return{};var t={},u=Object.keys(e),r,i;for(i=0;i<u.length;i++)r=u[i],!(a.indexOf(r)>=0)&&(t[r]=e[r]);return t}var o="dateRange",s=_.forwardRef(function(e,a){var t=e.fieldProps,u=e.proFieldProps,r=R(e,c),i=(0,_.useContext)(d.Z);return _.createElement(O.Z,D({ref:a,mode:"edit",fieldProps:x({getPopupContainer:i.getPopupContainer},t),valueType:o,proFieldProps:u,filedConfig:{valueType:o,lightFilterLabelFormatter:function(l){return(0,P.Z)(l,"YYYY-MM-DD")}}},r))});T.Z=s},64317:function(N,T,n){"use strict";var _=n(67294),O=n(74308),P=n(22270),d=n(66758),c=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],D=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function v(){return v=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var p=arguments[i];for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&(r[l]=p[l])}return r},v.apply(this,arguments)}function x(r,i){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);i&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),p.push.apply(p,l)}return p}function b(r){for(var i=1;i<arguments.length;i++){var p=arguments[i]!=null?arguments[i]:{};i%2?x(Object(p),!0).forEach(function(l){R(r,l,p[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):x(Object(p)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(p,l))})}return r}function R(r,i,p){return i in r?Object.defineProperty(r,i,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[i]=p,r}function m(r,i){if(r==null)return{};var p=o(r,i),l,f;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(r);for(f=0;f<E.length;f++)l=E[f],!(i.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,l)||(p[l]=r[l]))}return p}function o(r,i){if(r==null)return{};var p={},l=Object.keys(r),f,E;for(E=0;E<l.length;E++)f=l[E],!(i.indexOf(f)>=0)&&(p[f]=r[f]);return p}var s=_.forwardRef(function(r,i){var p=r.fieldProps,l=r.children,f=r.params,E=r.proFieldProps,S=r.mode,B=r.valueEnum,M=r.request,w=r.showSearch,I=r.options,j=m(r,c),K=(0,_.useContext)(d.Z);return _.createElement(O.Z,v({mode:"edit",valueEnum:(0,P.h)(B),request:M,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:b({options:I,mode:S,showSearch:w,getPopupContainer:K.getPopupContainer},p),ref:i,proFieldProps:E},j),l)}),e=_.forwardRef(function(r,i){var p=r.fieldProps,l=r.children,f=r.params,E=r.proFieldProps,S=r.mode,B=r.valueEnum,M=r.request,w=r.options,I=m(r,D),j=b({options:w,mode:S||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},p),K=(0,_.useContext)(d.Z);return _.createElement(O.Z,v({mode:"edit",valueEnum:(0,P.h)(B),request:M,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:b({getPopupContainer:K.getPopupContainer},j),ref:i,proFieldProps:E},I),l)}),a=s,t=e,u=a;u.SearchSelect=t,u.displayName="ProFormComponent",T.Z=u},37598:function(N,T,n){"use strict";var _=n(11849),O=n(22542),P=n(85893),d=function(D){var v={search:!1,options:!1,pagination:{defaultPageSize:15,pageSizeOptions:["15","30","50"],showSizeChanger:!0}};return(0,P.jsx)(O.ZP,(0,_.Z)({"data-inspector-line":"21","data-inspector-column":"9","data-inspector-relative-path":"src/components/CustomProTable/index.tsx"},Object.assign({},v,D)))};T.Z=d},15046:function(N,T,n){"use strict";var _=n(2824),O=n(11849),P=n(67294),d=n(30381),c=n.n(d),D=n(14877),v=n(34540),x=n(85893),b={tooltip:!0,tooltipText:"",label:"\u65F6\u95F4",name:void 0,defaultValue:null,defaultRangeValue:{unit:"hour",value:1},formatTemplate:"YYYY.MM.DD HH:mm",disabledDays:30,placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],showTime:{showHour:!0,showMinute:!0},onChange:function(){}},R=function(o,s){var e=(0,O.Z)((0,O.Z)({},b),o),a=function(h){return(0,D.Vb)(h,"YYYY-MM-DD HH:mm")},t=function(){var h,A,F,V,y,z;return Array.isArray(e.defaultRangeValue)?[a(c()()).subtract((h=e.defaultRangeValue[0])===null||h===void 0?void 0:h.value,(A=e.defaultRangeValue[0])===null||A===void 0?void 0:A.unit),a(c()()).subtract((F=e.defaultRangeValue[1])===null||F===void 0?void 0:F.value,(V=e.defaultRangeValue[1])===null||V===void 0?void 0:V.unit)]:[a(c()()).subtract((y=e.defaultRangeValue)===null||y===void 0?void 0:y.value,(z=e.defaultRangeValue)===null||z===void 0?void 0:z.unit),a(c()())]},u=(0,P.useState)(e.defaultValue),r=(0,_.Z)(u,2),i=r[0],p=r[1],l=(0,P.useState)([]),f=(0,_.Z)(l,2),E=f[0],S=f[1],B=(0,P.useState)(),M=(0,_.Z)(B,2),w=M[0],I=M[1],j=function(h){return(0,D.Q8)(h,E||[],e.disabledDays)},K=function(h){return(0,D.d0)(h,E||[],e.disabledDays)},L=function(h){h?(I([]),S([])):I(void 0)},J=function(h){S(h.map(function(A){return A&&a(A)}))},C=function(h){var A,F,V=(h==null||(A=h.map)===null||A===void 0?void 0:A.call(h,function(y){return y&&a(y)}))||t();p(V),(F=e.onChange)===null||F===void 0||F.call(e,V)};return(0,P.useImperativeHandle)(s,function(){return{value:i,setValue:p}}),(0,P.useEffect)(function(){if(!Array.isArray(e.defaultValue)||!Array.isArray(i)){var g,h=t();(g=e.onChange)===null||g===void 0||g.call(e,h),p(h)}},[]),(0,P.useMemo)(function(){return(0,x.jsx)(v.Z,{"data-inspector-line":"127","data-inspector-column":"6","data-inspector-relative-path":"src/components/LimitRangePicker/index.tsx",tooltip:e.tooltip?e.tooltipText||"\u65E5\u671F\u8DE8\u5EA6\u4E0D\u80FD\u8D85\u8FC7".concat(e.disabledDays,"\u5929"):void 0,label:e.label,name:e.name,allowClear:!0,fieldProps:{placeholder:e.placeholder,showTime:Object.assign({},e.showTime,{defaultValue:[(i==null?void 0:i[0])||c()(),(i==null?void 0:i[0])||c()()]}),allowClear:!1,value:w||i,format:e.formatTemplate,disabledDate:j,disabledTime:K,onCalendarChange:J,onChange:C,onOpenChange:L}})},[w,i,E])};T.Z=(0,P.forwardRef)(R)},76615:function(N,T,n){"use strict";n.r(T);var _=n(13254),O=n(14277),P=n(58024),d=n(39144),c=n(49111),D=n(19650),v=n(57663),x=n(71577),b=n(89032),R=n(15746),m=n(34792),o=n(48086),s=n(3182),e=n(2824),a=n(94043),t=n.n(a),u=n(67294),r=n(67265),i=n(64317),p=n(15046),l=n(14877),f=n(37598),E=n(30097),S=n(28617),B=n(44656),M=n(85893),w=function(){var j=(0,u.useState)([]),K=(0,e.Z)(j,2),L=K[0],J=K[1],C=(0,u.useState)(),g=(0,e.Z)(C,2),h=g[0],A=g[1],F=(0,u.useState)(),V=(0,e.Z)(F,2),y=V[0],z=V[1],k=function(U){J(U)},q=[{title:"\u623F\u95F4ID",dataIndex:"roomId"},{title:"\u5F00\u59CB\u65F6\u95F4",dataIndex:"startTime"},{title:"\u7ED3\u675F\u65F6\u95F4",dataIndex:"endTime"}],ee=function(){var Y=(0,s.Z)(t().mark(function U(){var Q,H,W,Z;return t().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,B.AY)({data:{page:0,limit:1e4,licenseId:0}});case 2:return Q=$.sent,H=Q.data||{},W=H.dataList,Z=W===void 0?[]:W,$.abrupt("return",Z.map(function(G){return{label:G.appName,value:G.appId}}));case 5:case"end":return $.stop()}},U)}));return function(){return Y.apply(this,arguments)}}(),te=function(){var Y=(0,s.Z)(t().mark(function U(){var Q;return t().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return Q=y+"\u623F\u95F4\u6570\u636E\u7EDF\u8BA1"+(0,l.Uq)(L[0])+"-"+(0,l.Uq)(L[1]),W.next=3,(0,E.dt)({data:{appId:(y==null?void 0:y.toString())||"",startTime:L[0].unix(),endTime:L[1].unix(),exportFlag:!0}}).then(function(Z){(0,S.r)(Z,Q)});case 3:case"end":return W.stop()}},U)}));return function(){return Y.apply(this,arguments)}}(),ne=function(){if(y)if(L.length)te();else{o.default.warn("\u65F6\u95F4\u5FC5\u586B");return}else{o.default.warn("\u8BF7\u9009\u62E9\u5E94\u7528");return}},re=function(){var Y=(0,s.Z)(t().mark(function U(){return t().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(!(y&&L.length)){H.next=3;break}return H.next=3,(0,E.dt)({data:{appId:(y==null?void 0:y.toString())||"",startTime:L[0].unix(),endTime:L[1].unix(),exportFlag:!1}}).then(function(W){var Z=new FileReader;Z.readAsText(W,"utf-8"),W.type==="application/json"&&(Z.onload=function(){var X=JSON.parse((Z==null?void 0:Z.result)+""),$=X.code,G=X.data;$===0&&G!==null&&G!==void 0&&G.roomHistory?A(G.roomHistory):A([])})});case 3:case"end":return H.stop()}},U)}));return function(){return Y.apply(this,arguments)}}();return(0,u.useEffect)(function(){re()},[y,L]),(0,M.jsx)(r.ZP,{"data-inspector-line":"119","data-inspector-column":"4","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",children:(0,M.jsxs)(d.Z,{"data-inspector-line":"120","data-inspector-column":"6","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",children:[(0,M.jsx)(d.Z,{"data-inspector-line":"121","data-inspector-column":"8","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",style:{marginBottom:"16px"},bordered:!1,bodyStyle:{paddingBottom:0},children:(0,M.jsxs)(D.Z,{"data-inspector-line":"122","data-inspector-column":"10","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",children:[(0,M.jsx)(R.Z,{"data-inspector-line":"123","data-inspector-column":"12","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",children:(0,M.jsx)(i.Z,{"data-inspector-line":"124","data-inspector-column":"14","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",label:"\u5E94\u7528",allowClear:!0,width:200,request:ee,fieldProps:{placeholder:"\u8BF7\u9009\u62E9\u5E94\u7528",onChange:function(U){z(U)}}})}),(0,M.jsx)(R.Z,{"data-inspector-line":"137","data-inspector-column":"12","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",children:(0,M.jsx)(p.Z,{"data-inspector-line":"138","data-inspector-column":"14","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",defaultValue:L,tooltip:!0,tooltipText:"\u65E5\u671F\u8DE8\u5EA6\u4E0D\u80FD\u8D85\u8FC71\u5929",disabledDays:1,onChange:function(U){return k(U)}})}),(0,M.jsx)(R.Z,{"data-inspector-line":"146","data-inspector-column":"12","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",style:{marginBottom:"25px",marginLeft:"18px"},children:(0,M.jsx)(x.Z,{"data-inspector-line":"147","data-inspector-column":"14","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",type:"primary",onClick:ne,children:"\u5BFC\u51FA"})})]})}),y?(0,M.jsx)(f.Z,{"data-inspector-line":"154","data-inspector-column":"10","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",dataSource:h,options:!1,rowKey:"startTime",search:!1,columns:q}):(0,M.jsx)(O.Z,{"data-inspector-line":"162","data-inspector-column":"10","data-inspector-relative-path":"src/pages/BusinessOperation/RoomStatistics/index.tsx",description:"\u8BF7\u9009\u62E9\u5E94\u7528\u540E\u67E5\u770B\u6570\u636E"})]})})};T.default=w},44656:function(N,T,n){"use strict";n.d(T,{AY:function(){return D}});var _=n(11849),O=n(3182),P=n(94043),d=n.n(P),c=n(58075),D=function(){var o=(0,O.Z)(d().mark(function s(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.kO)("/soms/application/list",(0,_.Z)({method:"POST"},e)));case 1:case"end":return t.stop()}},s)}));return function(e){return o.apply(this,arguments)}}(),v=null,x=null,b=null,R=null,m=null},30097:function(N,T,n){"use strict";n.d(T,{Nk:function(){return D},dt:function(){return v},W2:function(){return x},Gn:function(){return b},SP:function(){return R},bP:function(){return m}});var _=n(11849),O=n(3182),P=n(94043),d=n.n(P),c=n(58075),D=function(){var o=(0,O.Z)(d().mark(function s(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.kO)("/soms/report/avs/list",(0,_.Z)((0,_.Z)({method:"POST"},e||{}),{},{responseType:"blob"})));case 1:case"end":return t.stop()}},s)}));return function(e){return o.apply(this,arguments)}}(),v=function(){var o=(0,O.Z)(d().mark(function s(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.kO)("/soms/report/room/history/list",(0,_.Z)((0,_.Z)({method:"POST"},e||{}),{},{responseType:"blob"})));case 1:case"end":return t.stop()}},s)}));return function(e){return o.apply(this,arguments)}}(),x=function(){var o=(0,O.Z)(d().mark(function s(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.kO)("/soms/report/bandwidth/list",(0,_.Z)((0,_.Z)({method:"POST"},e||{}),{},{responseType:"blob"})));case 1:case"end":return t.stop()}},s)}));return function(e){return o.apply(this,arguments)}}(),b=function(){var o=(0,O.Z)(d().mark(function s(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.kO)("/soms/report/speed/user/history/list",(0,_.Z)((0,_.Z)({method:"POST"},e||{}),{},{responseType:"blob"})));case 1:case"end":return t.stop()}},s)}));return function(e){return o.apply(this,arguments)}}(),R=function(){var o=(0,O.Z)(d().mark(function s(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.kO)("/soms/report/vrsusage/list",(0,_.Z)((0,_.Z)({method:"POST"},e||{}),{},{responseType:"blob"})));case 1:case"end":return t.stop()}},s)}));return function(e){return o.apply(this,arguments)}}(),m=function(){var o=(0,O.Z)(d().mark(function s(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.kO)("/soms/report/queue/stat/list",(0,_.Z)((0,_.Z)({method:"POST"},e||{}),{},{responseType:"blob"})));case 1:case"end":return t.stop()}},s)}));return function(e){return o.apply(this,arguments)}}()},14877:function(N,T,n){"use strict";n.d(T,{Vb:function(){return d},Q8:function(){return c},d0:function(){return D},FK:function(){return v},Uq:function(){return x},KR:function(){return b}});var _=n(2824),O=n(30381),P=n.n(O),d=function(m){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD";return P()(m.format(o))},c=function(m,o,s){var e=(0,_.Z)(o,2),a=e[0],t=e[1];if(!a&&!t)return!1;var u=a&&d(m).diff(d(a),"days")>s-1,r=t&&d(t).diff(d(m),"days")>s-1;return r||u},D=function(m,o,s){var e=(0,_.Z)(o,2),a=e[0],t=e[1],u=function(){return Math.abs(d(m).diff(d(a||t),"days"))},r=m?m.date():void 0,i=m?m.hour():void 0,p=[0,0,0],l=p[0],f=p[1],E=!1;if(a){var S,B;E=!0;var M=(a==null||(S=a.format("HH:mm"))===null||S===void 0||(B=S.split(":"))===null||B===void 0?void 0:B.map(Number))||[],w=(0,_.Z)(M,2);l=w[0],f=w[1]}else if(t){var I,j,K=(t==null||(I=t.format("HH:mm"))===null||I===void 0||(j=I.split(":"))===null||j===void 0?void 0:j.map(Number))||[],L=(0,_.Z)(K,2);l=L[0],f=L[1]}return{disabledHours:function(){return new Array(24).fill(0).map(function(C,g){return g}).filter(function(C){if((a||t)&&r){var g=u();if(g===0)return E?C<l&&C>-1:C<24&&C>l;if(g===s-1)return E?C>l:C<l}return!1})},disabledMinutes:function(){return new Array(60).fill(0).map(function(C,g){return g}).filter(function(C){if((a||t)&&r){var g=u();if(g===0&&i===l)return E?C<f:C>f;if(g===s-1&&i===l)return E?C>f:C<f}return!1})}}},v=function(m){var o=new Date(m),s=o.getFullYear()+".",e=(o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1)+".",a=o.getDate()<10?"0"+o.getDate():o.getDate();return s+e+a},x=function(m){var o=new Date(m),s=o.getFullYear()+".",e=(o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1)+".",a=(o.getDate()<10?"0"+o.getDate():o.getDate())+" ",t=(o.getHours()<10?"0"+o.getHours():o.getHours())+":",u=o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes();return s+e+a+t+u},b=function(m){return Date.parse(v(m))/1e3}},28617:function(N,T,n){"use strict";n.d(T,{r:function(){return P}});var _=n(34792),O=n(48086),P=function(c,D){var v=new FileReader;v.readAsText(c,"utf-8"),c.type==="application/json"?v.onload=function(){var x=JSON.parse((v==null?void 0:v.result)+""),b=x.msg;O.default.warn(b)}:v.onload=function(){var x=window.URL.createObjectURL(c),b=document.createElement("a");b.href=x,b.download=D+".xlsx",document.body.appendChild(b),b.click(),document.body.removeChild(b)}}}}]);
