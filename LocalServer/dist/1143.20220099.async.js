(self.webpackChunktomp=self.webpackChunktomp||[]).push([[1143],{16165:function(le,j,e){"use strict";var d=e(28991),P=e(96156),n=e(81253),y=e(67294),m=e(94184),C=e.n(m),L=e(63017),s=e(41755),b=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],U=y.forwardRef(function(I,ie){var W=I.className,T=I.component,F=I.viewBox,re=I.spin,G=I.rotate,w=I.tabIndex,x=I.onClick,g=I.children,a=(0,n.Z)(I,b);(0,s.Kp)(Boolean(T||g),"Should have `component` prop or `children`."),(0,s.C3)();var N=y.useContext(L.Z),B=N.prefixCls,v=B===void 0?"anticon":B,f=C()(v,W),t=C()((0,P.Z)({},"".concat(v,"-spin"),!!re)),l=G?{msTransform:"rotate(".concat(G,"deg)"),transform:"rotate(".concat(G,"deg)")}:void 0,o=(0,d.Z)((0,d.Z)({},s.vD),{},{className:t,style:l,viewBox:F});F||delete o.viewBox;var r=function(){return T?y.createElement(T,(0,d.Z)({},o),g):g?((0,s.Kp)(Boolean(F)||y.Children.count(g)===1&&y.isValidElement(g)&&y.Children.only(g).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),y.createElement("svg",(0,d.Z)((0,d.Z)({},o),{},{viewBox:F}),g)):null},E=w;return E===void 0&&x&&(E=-1),y.createElement("span",(0,d.Z)((0,d.Z)({role:"img"},a),{},{ref:ie,tabIndex:E,onClick:x,className:f}),r())});U.displayName="AntdIcon",j.Z=U},73171:function(le,j,e){"use strict";e.d(j,{Z:function(){return L}});var d=e(28991),P=e(67294),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},y=n,m=e(27029),C=function(b,U){return P.createElement(m.Z,(0,d.Z)((0,d.Z)({},b),{},{ref:U,icon:y}))};C.displayName="DeleteOutlined";var L=P.forwardRef(C)},8212:function(le,j,e){"use strict";e.d(j,{Z:function(){return L}});var d=e(28991),P=e(67294),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},y=n,m=e(27029),C=function(b,U){return P.createElement(m.Z,(0,d.Z)((0,d.Z)({},b),{},{ref:U,icon:y}))};C.displayName="EditOutlined";var L=P.forwardRef(C)},69454:function(le){le.exports={flexible:"flexible___1JOIM",paddingIndent:"paddingIndent___1v3fr",fullWidth:"fullWidth___3Ch48","flex-center":"flex-center___8vZyb",title:"title___2jbLB",colorBlue:"colorBlue___3sRlb",colorGreen:"colorGreen___1LLuW",colorRed:"colorRed___eTb98",container:"container___1N0jU",standard:"standard___-B0fF",bordered:"bordered___rIUzu",layoutContainer:"layoutContainer___1z584",layoutContent:"layoutContent___1J59u",index:"index___1jGWs",containerContent:"containerContent___2PNPk",tableContent:"tableContent___Q1gv9",itemWrapper:"itemWrapper___rt1_q",listItem:"listItem___1Tno_",item:"item___38MMu",remove:"remove___29czl",mapTableContent:"mapTableContent___2d1Mc",itemHead:"itemHead___nwtfh"}},44887:function(){},95995:function(le,j,e){"use strict";e.r(j),e.d(j,{default:function(){return E}});var d=e(89032),P=e(15746),n=e(71194),y=e(5644),m=e(32059),C=e(11849),L=e(34792),s=e(48086),b=e(2824),U=e(47673),I=e(4107),ie=e(94184),W=e.n(ie),T=e(67294),F=e(25889),re=e(9715),G=e(86585),w=e(57663),x=e(71577),g=e(86582),a=e(49101),N=e(89968),B=e(39162),v=e(69454),f=e.n(v),t=e(85893),l=function(c){var D=c.config,h=c.name,M=c.form,p=c.propsExtra,S=c.mapState,_=c.bordered,q=_===void 0?!0:_,J=c.readonly,Q=D.mapValueType,H=D.children,ee=H===void 0?[]:H,X=D.rule,O=(0,B.$c)(X,h[h.length-1],"map");return(0,T.useMemo)(function(){return(0,t.jsx)(P.Z,{"data-inspector-line":"24","data-inspector-column":"6","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/MapBody.tsx",className:f().mapTableContent,children:(0,t.jsx)(G.Z.Item,{"data-inspector-line":"25","data-inspector-column":"8","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/MapBody.tsx",name:h,rules:O,className:f().itemWrapper,children:(0,t.jsxs)(t.Fragment,{children:[S.map(function(i){var u=M.getFieldValue(h)||{};return(0,t.jsx)("div",{"data-inspector-line":"30","data-inspector-column":"16","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/MapBody.tsx",className:f().listItem,children:(0,t.jsx)(N.Z,{"data-inspector-line":"31","data-inspector-column":"18","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/MapBody.tsx",form:M,name:[].concat((0,g.Z)(h),[i]),config:{key:i,type:Q,rule:X,children:ee},readonly:J,propsExtra:{editTitle:function(){return p.editTitle(i)},deleteCol:function(){u[i]=void 0,delete u[i],M.setFields([{name:h,value:(0,C.Z)({},u)}]),p.refresh(),p.validate()}},standard:!0,bordered:q},"".concat(h.join("-"),"-").concat(i))},"".concat(h.join("-"),"-").concat(i,"-div"))}),J?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)("div",{"data-inspector-line":"68","data-inspector-column":"14","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/MapBody.tsx",className:W()(f().paddingBottom,f().fullWidth),children:(0,t.jsx)(x.Z,{"data-inspector-line":"69","data-inspector-column":"16","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/MapBody.tsx",onClick:p.openModal,style:{width:"100%"},type:"dashed",icon:(0,t.jsx)(a.Z,{"data-inspector-line":"73","data-inspector-column":"24","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/MapBody.tsx"}),children:"\u65B0\u589E"})})]})})})},[c.mapState])},o=l,r=function(c){var D=c.config,h=c.name,M=h===void 0?[]:h,p=c.form,S=c.standard,_=c.bordered,q=_===void 0?!0:_,J=D.mapKeyType,Q=D.mapValueType,H=J==="string"?I.Z:T.Fragment,ee=(0,T.useState)(0),X=(0,b.Z)(ee,2),O=X[0],i=X[1],u=(0,T.useState)(!1),R=(0,b.Z)(u,2),he=R[0],Y=R[1],k=(0,T.useState)(""),te=(0,b.Z)(k,2),z=te[0],se=te[1],ce=(0,T.useState)(""),de=(0,b.Z)(ce,2),ne=de[0],ue=de[1],Ce=(0,T.useState)([]),ae=(0,b.Z)(Ce,2),ve=ae[0],me=ae[1],pe=function(){Y(!0)},$=function(K){se(K),ue(K),pe()},A=function(){i(O+1)},oe=function(){p.validateFields(M)},fe=function(){if(!z){s.default.warn("key\u4E0D\u80FD\u4E3A\u7A7A");return}if(ne!==z&&ve.includes(z)){s.default.error("".concat(z,"\u5DF2\u5B58\u5728"));return}var K=p.getFieldValue(M)||{},ye=K[ne],V=Q==="object"?{}:void 0;K[ne]=void 0,delete K[ne],p.setFields([{name:M,value:(0,C.Z)((0,C.Z)({},K),{},(0,m.Z)({},z,ye||V))}]),se(""),ue(""),Y(!1),A(),oe()};return(0,T.useEffect)(function(){me(Object.keys(p.getFieldValue(M)||{}))},[O]),(0,t.jsx)(T.Suspense,{"data-inspector-line":"71","data-inspector-column":"4","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/index.tsx",fallback:!1,children:(0,t.jsxs)(P.Z,{"data-inspector-line":"72","data-inspector-column":"6","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/index.tsx",className:W()(f().container,S?f().standard:"",q?f().bordered:""),children:[(0,t.jsx)(F.Z,(0,C.Z)({"data-inspector-line":"80","data-inspector-column":"8","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/index.tsx"},c)),(0,t.jsx)(o,(0,C.Z)((0,C.Z)({"data-inspector-line":"81","data-inspector-column":"8","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/index.tsx"},c),{},{name:M,refreshKey:O,propsExtra:{openModal:pe,editTitle:$,refresh:A,validate:oe},mapState:ve})),(0,t.jsx)(y.Z,{"data-inspector-line":"93","data-inspector-column":"8","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/index.tsx",title:"key",visible:he,onOk:fe,onCancel:function(){Y(!1)},children:(0,t.jsx)("div",{"data-inspector-line":"101","data-inspector-column":"10","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/index.tsx",children:(0,t.jsx)(H,{"data-inspector-line":"103","data-inspector-column":"14","data-inspector-relative-path":"src/components/TemplateEngine/MapTable/index.tsx",value:z,onChange:function(K){var ye=K&&K.target?K.target.value:K;se(ye)}},"modal"+O)})})]},M.join("-"))})},E=r},25889:function(le,j,e){"use strict";e.d(j,{Z:function(){return G}});var d=e(49111),P=e(19650),n=e(62350),y=e(75443),m=e(11849),C=e(93224),L=e(16165),s=e(85893),b=function(x){var g=x.width,a=g===void 0?24:g,N=x.height,B=N===void 0?24:N,v=(0,C.Z)(x,["width","height"]);return(0,s.jsx)("svg",(0,m.Z)((0,m.Z)({"data-inspector-line":"5","data-inspector-column":"2","data-inspector-relative-path":"src/components/TemplateEngine/ItemIcon.tsx"},v),{},{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2292",width:a,height:B,children:(0,s.jsx)("path",{"data-inspector-line":"14","data-inspector-column":"4","data-inspector-relative-path":"src/components/TemplateEngine/ItemIcon.tsx",d:"M248.3 309.8h-32c-2.2 0-4-1.8-4-4v-32c0-2.2 1.8-4 4-4h32c2.2 0 4 1.8 4 4v32c0 2.2-1.8 4-4 4zM808.2 309.9h-502c-2.2 0-4-1.8-4-4v-32.2c0-2.2 1.8-4 4-4h502c2.2 0 4 1.8 4 4v32.2c0 2.2-1.8 4-4 4zM248.3 474.1h-32c-2.2 0-4-1.8-4-4v-32c0-2.2 1.8-4 4-4h32c2.2 0 4 1.8 4 4v32c0 2.2-1.8 4-4 4zM808.2 474.2h-502c-2.2 0-4-1.8-4-4V438c0-2.2 1.8-4 4-4h502c2.2 0 4 1.8 4 4v32.2c0 2.2-1.8 4-4 4zM248.3 646.4h-32c-2.2 0-4-1.8-4-4v-32c0-2.2 1.8-4 4-4h32c2.2 0 4 1.8 4 4v32c0 2.2-1.8 4-4 4zM808.2 646.5h-502c-2.2 0-4-1.8-4-4v-32.2c0-2.2 1.8-4 4-4h502c2.2 0 4 1.8 4 4v32.2c0 2.2-1.8 4-4 4z","p-id":"2293"})}))},U=function(x){var g=x.style,a=(0,C.Z)(x,["style"]);return(0,s.jsx)(L.Z,(0,m.Z)((0,m.Z)({"data-inspector-line":"25","data-inspector-column":"2","data-inspector-relative-path":"src/components/TemplateEngine/ItemIcon.tsx",component:b},a),{},{style:(0,m.Z)((0,m.Z)({},g||{}),{},{fontSize:20,verticalAlign:"middle"})}))},I=U,ie=e(69454),W=e.n(ie),T=e(8212),F=e(73171),re=function(x){var g=x.config,a=x.propsExtra,N=x.readonly,B=x.title,v=g.key,f=typeof v=="number";return(0,s.jsxs)(P.Z,{"data-inspector-line":"13","data-inspector-column":"4","data-inspector-relative-path":"src/components/TemplateEngine/TitleRender.tsx",className:W().title,children:[f?(0,s.jsx)("span",{"data-inspector-line":"15","data-inspector-column":"8","data-inspector-relative-path":"src/components/TemplateEngine/TitleRender.tsx",className:W().index,children:v+1}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I,{"data-inspector-line":"18","data-inspector-column":"10","data-inspector-relative-path":"src/components/TemplateEngine/TitleRender.tsx",className:W().colorBlue}),(0,s.jsx)("span",{"data-inspector-line":"19","data-inspector-column":"10","data-inspector-relative-path":"src/components/TemplateEngine/TitleRender.tsx",children:B})]}),!N&&a!==null&&a!==void 0&&a.editTitle?(0,s.jsx)(T.Z,{"data-inspector-line":"23","data-inspector-column":"8","data-inspector-relative-path":"src/components/TemplateEngine/TitleRender.tsx",className:W().colorBlue,onClick:function(){return a.editTitle()}}):(0,s.jsx)(s.Fragment,{}),!N&&a!==null&&a!==void 0&&a.deleteCol?(0,s.jsx)(y.Z,{"data-inspector-line":"28","data-inspector-column":"8","data-inspector-relative-path":"src/components/TemplateEngine/TitleRender.tsx",title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",okButtonProps:{danger:!0},onConfirm:function(){return a.deleteCol()},children:(0,s.jsx)(F.Z,{"data-inspector-line":"35","data-inspector-column":"10","data-inspector-relative-path":"src/components/TemplateEngine/TitleRender.tsx",className:W().colorRed})}):(0,s.jsx)(s.Fragment,{})]})},G=re},75443:function(le,j,e){"use strict";var d=e(22122),P=e(28481),n=e(67294),y=e(94184),m=e.n(y),C=e(21770),L=e(68855),s=e(15105),b=e(69713),U=e(71577),I=e(32413),ie=e(42051),W=e(85636),T=e(65632),F=e(81643),re=e(96159),G=e(33603),w=void 0,x=function(a,N){var B={};for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&N.indexOf(v)<0&&(B[v]=a[v]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,v=Object.getOwnPropertySymbols(a);f<v.length;f++)N.indexOf(v[f])<0&&Object.prototype.propertyIsEnumerable.call(a,v[f])&&(B[v[f]]=a[v[f]]);return B},g=n.forwardRef(function(a,N){var B=(0,C.Z)(!1,{value:a.visible,defaultValue:a.defaultVisible}),v=(0,P.Z)(B,2),f=v[0],t=v[1],l=function(i,u){var R;t(i),(R=a.onVisibleChange)===null||R===void 0||R.call(a,i,u)},o=function(i){var u;l(!1,i),(u=a.onConfirm)===null||u===void 0||u.call(w,i)},r=function(i){var u;l(!1,i),(u=a.onCancel)===null||u===void 0||u.call(w,i)},E=function(i){i.keyCode===s.Z.ESC&&f&&l(!1,i)},Z=function(i){var u=a.disabled;u||l(i)},c=function(i,u){var R=a.okButtonProps,he=a.cancelButtonProps,Y=a.title,k=a.cancelText,te=a.okText,z=a.okType,se=a.icon;return n.createElement("div",{className:"".concat(i,"-inner-content")},n.createElement("div",{className:"".concat(i,"-message")},se,n.createElement("div",{className:"".concat(i,"-message-title")},(0,F.Z)(Y))),n.createElement("div",{className:"".concat(i,"-buttons")},n.createElement(U.Z,(0,d.Z)({onClick:r,size:"small"},he),k||u.cancelText),n.createElement(U.Z,(0,d.Z)({onClick:o},(0,I.n)(z),{size:"small"},R),te||u.okText)))},D=n.useContext(T.E_),h=D.getPrefixCls,M=a.prefixCls,p=a.placement,S=a.children,_=a.overlayClassName,q=x(a,["prefixCls","placement","children","overlayClassName"]),J=h("popover",M),Q=h("popconfirm",M),H=m()(Q,_),ee=n.createElement(ie.Z,{componentName:"Popconfirm",defaultLocale:W.Z.Popconfirm},function(O){return c(J,O)}),X=h();return n.createElement(b.Z,(0,d.Z)({},q,{prefixCls:J,placement:p,onVisibleChange:Z,visible:f,overlay:ee,overlayClassName:H,ref:N,transitionName:(0,G.m)(X,"zoom-big",a.transitionName)}),(0,re.Tm)(S,{onKeyDown:function(i){var u,R;n.isValidElement(S)&&((R=S==null?void 0:(u=S.props).onKeyDown)===null||R===void 0||R.call(u,i)),E(i)}}))});g.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:n.createElement(L.Z,null),disabled:!1},j.Z=g},62350:function(le,j,e){"use strict";var d=e(65056),P=e.n(d),n=e(20136),y=e(57663),m=e(44887),C=e.n(m)},83230:function(le,j,e){"use strict";e.d(j,{Z:function(){return f}});var d=e(22122),P=e(28481),n=e(67294),y=e(96633),m=e(28991),C=e(94184),L=e.n(C),s=e(15105),b=e(94999),U=e(64217),I=e(60444);function ie(t){var l=t.prefixCls,o=t.style,r=t.visible,E=t.maskProps,Z=t.motionName;return n.createElement(I.Z,{key:"mask",visible:r,motionName:Z,leavedClassName:"".concat(l,"-mask-hidden")},function(c){var D=c.className,h=c.style;return n.createElement("div",(0,d.Z)({style:(0,m.Z)((0,m.Z)({},h),o),className:L()("".concat(l,"-mask"),D)},E))})}function W(t,l,o){var r=l;return!r&&o&&(r="".concat(t,"-").concat(o)),r}var T=-1;function F(){return T+=1,T}function re(t,l){var o=t["page".concat(l?"Y":"X","Offset")],r="scroll".concat(l?"Top":"Left");if(typeof o!="number"){var E=t.document;o=E.documentElement[r],typeof o!="number"&&(o=E.body[r])}return o}function G(t){var l=t.getBoundingClientRect(),o={left:l.left,top:l.top},r=t.ownerDocument,E=r.defaultView||r.parentWindow;return o.left+=re(E),o.top+=re(E,!0),o}var w=n.memo(function(t){var l=t.children;return l},function(t,l){var o=l.shouldUpdate;return!o}),x={width:0,height:0,overflow:"hidden",outline:"none"},g=n.forwardRef(function(t,l){var o=t.closable,r=t.prefixCls,E=t.width,Z=t.height,c=t.footer,D=t.title,h=t.closeIcon,M=t.style,p=t.className,S=t.visible,_=t.forceRender,q=t.bodyStyle,J=t.bodyProps,Q=t.children,H=t.destroyOnClose,ee=t.modalRender,X=t.motionName,O=t.ariaId,i=t.onClose,u=t.onVisibleChanged,R=t.onMouseDown,he=t.onMouseUp,Y=t.mousePosition,k=(0,n.useRef)(),te=(0,n.useRef)(),z=(0,n.useRef)();n.useImperativeHandle(l,function(){return{focus:function(){var A;(A=k.current)===null||A===void 0||A.focus()},changeActive:function(A){var oe=document,fe=oe.activeElement;A&&fe===te.current?k.current.focus():!A&&fe===k.current&&te.current.focus()}}});var se=n.useState(),ce=(0,P.Z)(se,2),de=ce[0],ne=ce[1],ue={};E!==void 0&&(ue.width=E),Z!==void 0&&(ue.height=Z),de&&(ue.transformOrigin=de);function Ce(){var $=G(z.current);ne(Y?"".concat(Y.x-$.left,"px ").concat(Y.y-$.top,"px"):"")}var ae;c&&(ae=n.createElement("div",{className:"".concat(r,"-footer")},c));var ve;D&&(ve=n.createElement("div",{className:"".concat(r,"-header")},n.createElement("div",{className:"".concat(r,"-title"),id:O},D)));var me;o&&(me=n.createElement("button",{type:"button",onClick:i,"aria-label":"Close",className:"".concat(r,"-close")},h||n.createElement("span",{className:"".concat(r,"-close-x")})));var pe=n.createElement("div",{className:"".concat(r,"-content")},me,ve,n.createElement("div",(0,d.Z)({className:"".concat(r,"-body"),style:q},J),Q),ae);return n.createElement(I.Z,{visible:S,onVisibleChanged:u,onAppearPrepare:Ce,onEnterPrepare:Ce,forceRender:_,motionName:X,removeOnLeave:H,ref:z},function($,A){var oe=$.className,fe=$.style;return n.createElement("div",{key:"dialog-element",role:"document",ref:A,style:(0,m.Z)((0,m.Z)((0,m.Z)({},fe),M),ue),className:L()(r,p,oe),onMouseDown:R,onMouseUp:he},n.createElement("div",{tabIndex:0,ref:k,style:x,"aria-hidden":"true"}),n.createElement(w,{shouldUpdate:S||_},ee?ee(pe):pe),n.createElement("div",{tabIndex:0,ref:te,style:x,"aria-hidden":"true"}))})});g.displayName="Content";var a=g;function N(t){var l=t.prefixCls,o=l===void 0?"rc-dialog":l,r=t.zIndex,E=t.visible,Z=E===void 0?!1:E,c=t.keyboard,D=c===void 0?!0:c,h=t.focusTriggerAfterClose,M=h===void 0?!0:h,p=t.scrollLocker,S=t.title,_=t.wrapStyle,q=t.wrapClassName,J=t.wrapProps,Q=t.onClose,H=t.afterClose,ee=t.transitionName,X=t.animation,O=t.closable,i=O===void 0?!0:O,u=t.mask,R=u===void 0?!0:u,he=t.maskTransitionName,Y=t.maskAnimation,k=t.maskClosable,te=k===void 0?!0:k,z=t.maskStyle,se=t.maskProps,ce=(0,n.useRef)(),de=(0,n.useRef)(),ne=(0,n.useRef)(),ue=n.useState(Z),Ce=(0,P.Z)(ue,2),ae=Ce[0],ve=Ce[1],me=(0,n.useRef)();me.current||(me.current="rcDialogTitle".concat(F()));function pe(V){if(V){if(!(0,b.Z)(de.current,document.activeElement)){var ge;ce.current=document.activeElement,(ge=ne.current)===null||ge===void 0||ge.focus()}}else{if(ve(!1),R&&ce.current&&M){try{ce.current.focus({preventScroll:!0})}catch(xe){}ce.current=null}ae&&(H==null||H())}}function $(V){Q==null||Q(V)}var A=(0,n.useRef)(!1),oe=(0,n.useRef)(),fe=function(){clearTimeout(oe.current),A.current=!0},Ee=function(){oe.current=setTimeout(function(){A.current=!1})},K=null;te&&(K=function(ge){A.current?A.current=!1:de.current===ge.target&&$(ge)});function ye(V){if(D&&V.keyCode===s.Z.ESC){V.stopPropagation(),$(V);return}Z&&V.keyCode===s.Z.TAB&&ne.current.changeActive(!V.shiftKey)}return(0,n.useEffect)(function(){return Z&&ve(!0),function(){}},[Z]),(0,n.useEffect)(function(){return function(){clearTimeout(oe.current)}},[]),(0,n.useEffect)(function(){return ae?(p==null||p.lock(),p==null?void 0:p.unLock):function(){}},[ae,p]),n.createElement("div",(0,d.Z)({className:"".concat(o,"-root")},(0,U.Z)(t,{data:!0})),n.createElement(ie,{prefixCls:o,visible:R&&Z,motionName:W(o,he,Y),style:(0,m.Z)({zIndex:r},z),maskProps:se}),n.createElement("div",(0,d.Z)({tabIndex:-1,onKeyDown:ye,className:L()("".concat(o,"-wrap"),q),ref:de,onClick:K,role:"dialog","aria-labelledby":S?me.current:null,style:(0,m.Z)((0,m.Z)({zIndex:r},_),{},{display:ae?null:"none"})},J),n.createElement(a,(0,d.Z)({},t,{onMouseDown:fe,onMouseUp:Ee,ref:ne,closable:i,ariaId:me.current,prefixCls:o,visible:Z,onClose:$,onVisibleChanged:pe,motionName:W(o,ee,X)}))))}var B=function(l){var o=l.visible,r=l.getContainer,E=l.forceRender,Z=l.destroyOnClose,c=Z===void 0?!1:Z,D=l.afterClose,h=n.useState(o),M=(0,P.Z)(h,2),p=M[0],S=M[1];return n.useEffect(function(){o&&S(!0)},[o]),r===!1?n.createElement(N,(0,d.Z)({},l,{getOpenCount:function(){return 2}})):!E&&c&&!p?null:n.createElement(y.Z,{visible:o,forceRender:E,getContainer:r},function(_){return n.createElement(N,(0,d.Z)({},l,{destroyOnClose:c,afterClose:function(){D==null||D(),S(!1)}},_))})};B.displayName="Dialog";var v=B,f=v}}]);
