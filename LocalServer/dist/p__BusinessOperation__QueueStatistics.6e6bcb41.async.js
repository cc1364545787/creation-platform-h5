(self.webpackChunktomp=self.webpackChunktomp||[]).push([[6464],{34540:function(W,M,n){"use strict";var p=n(67294),P=n(74308),x=n(86190),_=n(66758),E=["fieldProps","proFieldProps"];function b(){return b=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u])}return t},b.apply(this,arguments)}function v(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);a&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,u)}return e}function T(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?v(Object(e),!0).forEach(function(u){D(t,u,e[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(e,u))})}return t}function D(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function y(t,a){if(t==null)return{};var e=d(t,a),u,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)u=l[r],!(a.indexOf(u)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,u)||(e[u]=t[u]))}return e}function d(t,a){if(t==null)return{};var e={},u=Object.keys(t),r,l;for(l=0;l<u.length;l++)r=u[l],!(a.indexOf(r)>=0)&&(e[r]=t[r]);return e}var s="dateRange",o=p.forwardRef(function(t,a){var e=t.fieldProps,u=t.proFieldProps,r=y(t,E),l=(0,p.useContext)(_.Z);return p.createElement(P.Z,b({ref:a,mode:"edit",fieldProps:T({getPopupContainer:l.getPopupContainer},e),valueType:s,proFieldProps:u,filedConfig:{valueType:s,lightFilterLabelFormatter:function(i){return(0,x.Z)(i,"YYYY-MM-DD")}}},r))});M.Z=o},64317:function(W,M,n){"use strict";var p=n(67294),P=n(74308),x=n(22270),_=n(66758),E=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],b=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function v(){return v=Object.assign||function(r){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&(r[i]=c[i])}return r},v.apply(this,arguments)}function T(r,l){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);l&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),c.push.apply(c,i)}return c}function D(r){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?T(Object(c),!0).forEach(function(i){y(r,i,c[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):T(Object(c)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(c,i))})}return r}function y(r,l,c){return l in r?Object.defineProperty(r,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[l]=c,r}function d(r,l){if(r==null)return{};var c=s(r,l),i,f;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(r);for(f=0;f<h.length;f++)i=h[f],!(l.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,i)||(c[i]=r[i]))}return c}function s(r,l){if(r==null)return{};var c={},i=Object.keys(r),f,h;for(h=0;h<i.length;h++)f=i[h],!(l.indexOf(f)>=0)&&(c[f]=r[f]);return c}var o=p.forwardRef(function(r,l){var c=r.fieldProps,i=r.children,f=r.params,h=r.proFieldProps,U=r.mode,w=r.valueEnum,Z=r.request,B=r.showSearch,g=r.options,j=d(r,E),Y=(0,p.useContext)(_.Z);return p.createElement(P.Z,v({mode:"edit",valueEnum:(0,x.h)(w),request:Z,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:D({options:g,mode:U,showSearch:B,getPopupContainer:Y.getPopupContainer},c),ref:l,proFieldProps:h},j),i)}),t=p.forwardRef(function(r,l){var c=r.fieldProps,i=r.children,f=r.params,h=r.proFieldProps,U=r.mode,w=r.valueEnum,Z=r.request,B=r.options,g=d(r,b),j=D({options:B,mode:U||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},c),Y=(0,p.useContext)(_.Z);return p.createElement(P.Z,v({mode:"edit",valueEnum:(0,x.h)(w),request:Z,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:D({getPopupContainer:Y.getPopupContainer},j),ref:l,proFieldProps:h},g),i)}),a=o,e=t,u=a;u.SearchSelect=e,u.displayName="ProFormComponent",M.Z=u},37598:function(W,M,n){"use strict";var p=n(11849),P=n(22542),x=n(85893),_=function(b){var v={search:!1,options:!1,pagination:{defaultPageSize:15,pageSizeOptions:["15","30","50"],showSizeChanger:!0}};return(0,x.jsx)(P.ZP,(0,p.Z)({"data-inspector-line":"21","data-inspector-column":"9","data-inspector-relative-path":"src/components/CustomProTable/index.tsx"},Object.assign({},v,b)))};M.Z=_},89115:function(W,M,n){"use strict";n.r(M);var p=n(13254),P=n(14277),x=n(58024),_=n(39144),E=n(49111),b=n(19650),v=n(57663),T=n(71577),D=n(89032),y=n(15746),d=n(34792),s=n(48086),o=n(3182),t=n(2824),a=n(94043),e=n.n(a),u=n(67294),r=n(67265),l=n(64317),c=n(34540),i=n(14877),f=n(37598),h=n(30097),U=n(28617),w=n(44656),Z=n(30381),B=n.n(Z),g=n(85893),j=function(){var H=(0,u.useState)(),Q=(0,t.Z)(H,2),m=Q[0],R=Q[1],re=(0,u.useState)([B()().subtract(7,"days"),B()().subtract(1,"days")]),V=(0,t.Z)(re,2),A=V[0],ne=V[1],ae=(0,u.useState)([]),$=(0,t.Z)(ae,2),se=$[0],z=$[1],oe=(0,u.useState)(),J=(0,t.Z)(oe,2),ie=J[0],X=J[1],ue=(0,u.useState)(),k=(0,t.Z)(ue,2),le=k[0],q=k[1],_e="YYYY.MM.DD",ee=function(O){return O&&(0,i.Vb)(O)},te=30,pe=function(O){z(O.map(ee))},ce=function(O){O?(X([]),z([])):X(void 0)},de=function(O){ne(O.map(ee))},me=[{title:"\u65E5\u671F",dataIndex:"reportDate"},{title:"\u961F\u5217\u6570\u91CF",dataIndex:"total"}],fe=function(){var C=(0,o.Z)(e().mark(function O(){var N,I,L,S;return e().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,w.AY)({data:{page:0,limit:1e4,licenseId:0}});case 2:return N=K.sent,I=N.data||{},L=I.dataList,S=L===void 0?[]:L,K.abrupt("return",S.map(function(F){return{label:F.appName,value:F.appId}}));case 5:case"end":return K.stop()}},O)}));return function(){return C.apply(this,arguments)}}(),ve=function(){var C=(0,o.Z)(e().mark(function O(){var N;return e().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return N=m+"\u961F\u5217\u6570\u636E\u7EDF\u8BA1"+(0,i.FK)(Number(A[0]))+"-"+(0,i.FK)(Number(A[1])),L.next=3,(0,h.bP)({data:{appId:(m==null?void 0:m.toString())||"",startTime:(0,i.KR)(Number(A[0])),endTime:(0,i.KR)(Number(A[1])),cmd:"zegochat.queue_staff_enter_req",exportFlag:!0}}).then(function(S){(0,U.r)(S,N)});case 3:case"end":return L.stop()}},O)}));return function(){return C.apply(this,arguments)}}(),Oe=function(){if(m)if(A.length)ve();else{s.default.warn("\u65F6\u95F4\u5FC5\u586B");return}else{s.default.warn("\u8BF7\u9009\u62E9\u5E94\u7528");return}},Pe=function(){var C=(0,o.Z)(e().mark(function O(){return e().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(m&&A.length)){I.next=3;break}return I.next=3,(0,h.bP)({data:{appId:(m==null?void 0:m.toString())||"",startTime:(0,i.KR)(Number(A[0])),endTime:(0,i.KR)(Number(A[1])),cmd:"zegochat.queue_staff_enter_req",exportFlag:!1}}).then(function(L){var S=new FileReader;S.readAsText(L,"utf-8"),L.type==="application/json"&&(S.onload=function(){var G=JSON.parse((S==null?void 0:S.result)+""),K=G.code,F=G.data;K===0&&F!==null&&F!==void 0&&F.queueStat?q(F.queueStat):q([])})});case 3:case"end":return I.stop()}},O)}));return function(){return C.apply(this,arguments)}}();return(0,u.useEffect)(function(){Pe()},[m,A]),(0,g.jsx)(r.ZP,{"data-inspector-line":"142","data-inspector-column":"4","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",children:(0,g.jsxs)(_.Z,{"data-inspector-line":"143","data-inspector-column":"6","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",children:[(0,g.jsx)(_.Z,{"data-inspector-line":"144","data-inspector-column":"8","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",style:{marginBottom:"16px"},bordered:!1,bodyStyle:{paddingBottom:0},children:(0,g.jsxs)(b.Z,{"data-inspector-line":"145","data-inspector-column":"10","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",children:[(0,g.jsx)(y.Z,{"data-inspector-line":"146","data-inspector-column":"12","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",children:(0,g.jsx)(l.Z,{"data-inspector-line":"147","data-inspector-column":"14","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",label:"\u5E94\u7528",allowClear:!0,width:200,request:fe,fieldProps:{placeholder:"\u8BF7\u9009\u62E9\u5E94\u7528",onChange:function(O){R(O)}}})}),(0,g.jsx)(y.Z,{"data-inspector-line":"160","data-inspector-column":"12","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",children:(0,g.jsx)(c.Z,{"data-inspector-line":"161","data-inspector-column":"14","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",tooltip:"\u65E5\u671F\u8DE8\u5EA6\u4E0D\u80FD\u8D85\u8FC7".concat(te,"\u5929"),label:"\u65F6\u95F4",allowClear:!0,width:"lg",fieldProps:{allowClear:!1,value:ie||A,format:_e,disabledDate:function(O){return(0,i.Q8)(O,se||[],te)},onCalendarChange:pe,onChange:de,onOpenChange:ce}})}),(0,g.jsx)(y.Z,{"data-inspector-line":"177","data-inspector-column":"12","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",style:{marginBottom:"25px",marginLeft:"18px"},children:(0,g.jsx)(T.Z,{"data-inspector-line":"178","data-inspector-column":"14","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",type:"primary",onClick:Oe,children:"\u5BFC\u51FA"})})]})}),m?(0,g.jsx)(f.Z,{"data-inspector-line":"185","data-inspector-column":"10","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",dataSource:le,options:!1,rowKey:"reportDate",search:!1,columns:me}):(0,g.jsx)(P.Z,{"data-inspector-line":"193","data-inspector-column":"10","data-inspector-relative-path":"src/pages/BusinessOperation/QueueStatistics/index.tsx",description:"\u8BF7\u9009\u62E9\u5E94\u7528\u540E\u67E5\u770B\u6570\u636E"})]})})};M.default=j},44656:function(W,M,n){"use strict";n.d(M,{AY:function(){return b}});var p=n(11849),P=n(3182),x=n(94043),_=n.n(x),E=n(58075),b=function(){var s=(0,P.Z)(_().mark(function o(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,E.kO)("/soms/application/list",(0,p.Z)({method:"POST"},t)));case 1:case"end":return e.stop()}},o)}));return function(t){return s.apply(this,arguments)}}(),v=null,T=null,D=null,y=null,d=null},30097:function(W,M,n){"use strict";n.d(M,{Nk:function(){return b},dt:function(){return v},W2:function(){return T},Gn:function(){return D},SP:function(){return y},bP:function(){return d}});var p=n(11849),P=n(3182),x=n(94043),_=n.n(x),E=n(58075),b=function(){var s=(0,P.Z)(_().mark(function o(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,E.kO)("/soms/report/avs/list",(0,p.Z)((0,p.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},o)}));return function(t){return s.apply(this,arguments)}}(),v=function(){var s=(0,P.Z)(_().mark(function o(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,E.kO)("/soms/report/room/history/list",(0,p.Z)((0,p.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},o)}));return function(t){return s.apply(this,arguments)}}(),T=function(){var s=(0,P.Z)(_().mark(function o(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,E.kO)("/soms/report/bandwidth/list",(0,p.Z)((0,p.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},o)}));return function(t){return s.apply(this,arguments)}}(),D=function(){var s=(0,P.Z)(_().mark(function o(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,E.kO)("/soms/report/speed/user/history/list",(0,p.Z)((0,p.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},o)}));return function(t){return s.apply(this,arguments)}}(),y=function(){var s=(0,P.Z)(_().mark(function o(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,E.kO)("/soms/report/vrsusage/list",(0,p.Z)((0,p.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},o)}));return function(t){return s.apply(this,arguments)}}(),d=function(){var s=(0,P.Z)(_().mark(function o(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,E.kO)("/soms/report/queue/stat/list",(0,p.Z)((0,p.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},o)}));return function(t){return s.apply(this,arguments)}}()},14877:function(W,M,n){"use strict";n.d(M,{Vb:function(){return _},Q8:function(){return E},d0:function(){return b},FK:function(){return v},Uq:function(){return T},KR:function(){return D}});var p=n(2824),P=n(30381),x=n.n(P),_=function(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD";return x()(d.format(s))},E=function(d,s,o){var t=(0,p.Z)(s,2),a=t[0],e=t[1];if(!a&&!e)return!1;var u=a&&_(d).diff(_(a),"days")>o-1,r=e&&_(e).diff(_(d),"days")>o-1;return r||u},b=function(d,s,o){var t=(0,p.Z)(s,2),a=t[0],e=t[1],u=function(){return Math.abs(_(d).diff(_(a||e),"days"))},r=d?d.date():void 0,l=d?d.hour():void 0,c=[0,0,0],i=c[0],f=c[1],h=!1;if(a){var U,w;h=!0;var Z=(a==null||(U=a.format("HH:mm"))===null||U===void 0||(w=U.split(":"))===null||w===void 0?void 0:w.map(Number))||[],B=(0,p.Z)(Z,2);i=B[0],f=B[1]}else if(e){var g,j,Y=(e==null||(g=e.format("HH:mm"))===null||g===void 0||(j=g.split(":"))===null||j===void 0?void 0:j.map(Number))||[],H=(0,p.Z)(Y,2);i=H[0],f=H[1]}return{disabledHours:function(){return new Array(24).fill(0).map(function(m,R){return R}).filter(function(m){if((a||e)&&r){var R=u();if(R===0)return h?m<i&&m>-1:m<24&&m>i;if(R===o-1)return h?m>i:m<i}return!1})},disabledMinutes:function(){return new Array(60).fill(0).map(function(m,R){return R}).filter(function(m){if((a||e)&&r){var R=u();if(R===0&&l===i)return h?m<f:m>f;if(R===o-1&&l===i)return h?m>f:m<f}return!1})}}},v=function(d){var s=new Date(d),o=s.getFullYear()+".",t=(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+".",a=s.getDate()<10?"0"+s.getDate():s.getDate();return o+t+a},T=function(d){var s=new Date(d),o=s.getFullYear()+".",t=(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+".",a=(s.getDate()<10?"0"+s.getDate():s.getDate())+" ",e=(s.getHours()<10?"0"+s.getHours():s.getHours())+":",u=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes();return o+t+a+e+u},D=function(d){return Date.parse(v(d))/1e3}},28617:function(W,M,n){"use strict";n.d(M,{r:function(){return x}});var p=n(34792),P=n(48086),x=function(E,b){var v=new FileReader;v.readAsText(E,"utf-8"),E.type==="application/json"?v.onload=function(){var T=JSON.parse((v==null?void 0:v.result)+""),D=T.msg;P.default.warn(D)}:v.onload=function(){var T=window.URL.createObjectURL(E),D=document.createElement("a");D.href=T,D.download=b+".xlsx",document.body.appendChild(D),D.click(),document.body.removeChild(D)}}}}]);
