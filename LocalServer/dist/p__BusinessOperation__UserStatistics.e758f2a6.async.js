(self.webpackChunktomp=self.webpackChunktomp||[]).push([[2467],{34540:function(R,g,a){"use strict";var u=a(67294),c=a(74308),y=a(86190),i=a(66758),_=["fieldProps","proFieldProps"];function f(){return f=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},f.apply(this,arguments)}function m(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),e.push.apply(e,o)}return e}function O(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?m(Object(e),!0).forEach(function(o){v(t,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))})}return t}function v(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function P(t,r){if(t==null)return{};var e=l(t,r),o,p;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);for(p=0;p<h.length;p++)o=h[p],!(r.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,o)||(e[o]=t[o]))}return e}function l(t,r){if(t==null)return{};var e={},o=Object.keys(t),p,h;for(h=0;h<o.length;h++)p=o[h],!(r.indexOf(p)>=0)&&(e[p]=t[p]);return e}var n="dateRange",s=u.forwardRef(function(t,r){var e=t.fieldProps,o=t.proFieldProps,p=P(t,_),h=(0,u.useContext)(i.Z);return u.createElement(c.Z,f({ref:r,mode:"edit",fieldProps:O({getPopupContainer:h.getPopupContainer},e),valueType:n,proFieldProps:o,filedConfig:{valueType:n,lightFilterLabelFormatter:function(T){return(0,y.Z)(T,"YYYY-MM-DD")}}},p))});g.Z=s},5966:function(R,g,a){"use strict";var u=a(67294),c=a(74308),y=["fieldProps","proFieldProps"],i=["fieldProps","proFieldProps"];function _(){return _=Object.assign||function(n){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_.apply(this,arguments)}function f(n,s){if(n==null)return{};var t=m(n,s),r,e;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(e=0;e<o.length;e++)r=o[e],!(s.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function m(n,s){if(n==null)return{};var t={},r=Object.keys(n),e,o;for(o=0;o<r.length;o++)e=r[o],!(s.indexOf(e)>=0)&&(t[e]=n[e]);return t}var O="text",v=function(s){var t=s.fieldProps,r=s.proFieldProps,e=f(s,y);return u.createElement(c.Z,_({mode:"edit",valueType:O,fieldProps:t,filedConfig:{valueType:O},proFieldProps:r},e))},P=function(s){var t=s.fieldProps,r=s.proFieldProps,e=f(s,i);return u.createElement(c.Z,_({mode:"edit",valueType:"password",fieldProps:t,proFieldProps:r,filedConfig:{valueType:O}},e))},l=v;l.Password=P,l.displayName="ProFormComponent",g.Z=l},37598:function(R,g,a){"use strict";var u=a(11849),c=a(22542),y=a(85893),i=function(f){var m={search:!1,options:!1,pagination:{defaultPageSize:15,pageSizeOptions:["15","30","50"],showSizeChanger:!0}};return(0,y.jsx)(c.ZP,(0,u.Z)({"data-inspector-line":"21","data-inspector-column":"9","data-inspector-relative-path":"src/components/CustomProTable/index.tsx"},Object.assign({},m,f)))};g.Z=i},50681:function(R,g,a){"use strict";a.r(g);var u=a(13254),c=a(14277),y=a(58024),i=a(39144),_=a(49111),f=a(19650),m=a(57663),O=a(71577),v=a(89032),P=a(15746),l=a(34792),n=a(48086),s=a(3182),t=a(2824),r=a(94043),e=a.n(r),o=a(67294),p=a(67265),h=a(5966),A=a(34540),T=a(30381),x=a.n(T),M=a(14877),S=a(37598),K=a(30097),N=a(28617),E=a(85893),W=function(){var H=(0,o.useState)([x()().subtract(7,"days"),x()().subtract(1,"days")]),Z=(0,t.Z)(H,2),b=Z[0],D=Z[1],C=(0,o.useState)([]),V=(0,t.Z)(C,2),te=V[0],G=V[1],re=(0,o.useState)(),J=(0,t.Z)(re,2),ne=J[0],Q=J[1],ae=(0,o.useState)(),z=(0,t.Z)(ae,2),se=z[0],X=z[1],oe="YYYY.MM.DD",ie=(0,o.useState)(),$=(0,t.Z)(ie,2),L=$[0],ue=$[1],le=function(d){var w=d.target.value;ue(w)},k=function(d){return d&&(0,M.Vb)(d)},q=30,_e=function(d){G(d.map(k))},de=function(d){d?(Q([]),G([])):Q(void 0)},pe=function(d){D(d.map(k))},ce=[{title:"\u65E5\u671F",dataIndex:"reportDate"},{title:"\u901A\u8BDD\u6B21\u6570",dataIndex:"login"},{title:"\u65AD\u7F51\u6B21\u6570",dataIndex:"disconnect"},{title:"\u91CD\u8FDE\u6B21\u6570",dataIndex:"reconnect"}],me=function(){var U=(0,s.Z)(e().mark(function d(){var w;return e().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return w=L+"\u7528\u6237\u6570\u636E\u7EDF\u8BA1"+(0,M.FK)(Number(b[0]))+"-"+(0,M.FK)(Number(b[1])),B.next=3,(0,K.Gn)({data:{userId:L||"",startTime:(0,M.KR)(Number(b[0])),endTime:(0,M.KR)(Number(b[1])),exportFlag:!0}}).then(function(I){(0,N.r)(I,w)});case 3:case"end":return B.stop()}},d)}));return function(){return U.apply(this,arguments)}}(),fe=function(){if(L)if(b.length)me();else{n.default.warn("\u65F6\u95F4\u5FC5\u586B");return}else{n.default.warn("userID\u5FC5\u586B");return}},ve=function(){var U=(0,s.Z)(e().mark(function d(){return e().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(L&&b.length)){j.next=3;break}return j.next=3,(0,K.Gn)({data:{userId:L,startTime:(0,M.KR)(Number(b[0])),endTime:(0,M.KR)(Number(b[1])),exportFlag:!1}}).then(function(B){var I=new FileReader;I.readAsText(B,"utf-8"),B.type==="application/json"&&(I.onload=function(){var ee=JSON.parse((I==null?void 0:I.result)+""),Oe=ee.code,Y=ee.data;Oe===0&&Y!==null&&Y!==void 0&&Y.speedUserHistory?X(Y.speedUserHistory):X([])})});case 3:case"end":return j.stop()}},d)}));return function(){return U.apply(this,arguments)}}();return(0,o.useEffect)(function(){ve()},[L,b]),(0,E.jsx)(p.ZP,{"data-inspector-line":"143","data-inspector-column":"4","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",children:(0,E.jsxs)(i.Z,{"data-inspector-line":"144","data-inspector-column":"6","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",children:[(0,E.jsx)(i.Z,{"data-inspector-line":"145","data-inspector-column":"8","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",style:{marginBottom:"16px"},bordered:!1,bodyStyle:{paddingBottom:0},children:(0,E.jsxs)(f.Z,{"data-inspector-line":"146","data-inspector-column":"10","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",children:[(0,E.jsx)(P.Z,{"data-inspector-line":"147","data-inspector-column":"12","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",children:(0,E.jsx)(h.Z,{"data-inspector-line":"148","data-inspector-column":"14","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",label:"\u7528\u6237ID",allowClear:!0,fieldProps:{value:L,placeholder:"\u8BF7\u8F93\u5165\u7528\u6237ID",onChange:function(d){return le(d)}}})}),(0,E.jsx)(P.Z,{"data-inspector-line":"158","data-inspector-column":"12","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",children:(0,E.jsx)(A.Z,{"data-inspector-line":"159","data-inspector-column":"14","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",tooltip:"\u65E5\u671F\u8DE8\u5EA6\u4E0D\u80FD\u8D85\u8FC7".concat(q,"\u5929"),label:"\u65F6\u95F4",allowClear:!0,width:"lg",fieldProps:{allowClear:!1,value:ne||b,format:oe,disabledDate:function(d){return(0,M.Q8)(d,te||[],q)},onCalendarChange:_e,onChange:pe,onOpenChange:de}})}),(0,E.jsx)(P.Z,{"data-inspector-line":"175","data-inspector-column":"12","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",style:{marginBottom:"25px",marginLeft:"18px"},children:(0,E.jsx)(O.Z,{"data-inspector-line":"176","data-inspector-column":"14","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",type:"primary",onClick:fe,children:"\u5BFC\u51FA"})})]})}),L?(0,E.jsx)(S.Z,{"data-inspector-line":"183","data-inspector-column":"10","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",dataSource:se,options:!1,rowKey:"reportDate",search:!1,columns:ce}):(0,E.jsx)(c.Z,{"data-inspector-line":"191","data-inspector-column":"10","data-inspector-relative-path":"src/pages/BusinessOperation/UserStatistics/index.tsx",description:"\u8BF7\u8F93\u5165\u7528\u6237ID\u540E\u67E5\u770B\u6570\u636E"})]})})};g.default=W},30097:function(R,g,a){"use strict";a.d(g,{Nk:function(){return f},dt:function(){return m},W2:function(){return O},Gn:function(){return v},SP:function(){return P},bP:function(){return l}});var u=a(11849),c=a(3182),y=a(94043),i=a.n(y),_=a(58075),f=function(){var n=(0,c.Z)(i().mark(function s(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.kO)("/soms/report/avs/list",(0,u.Z)((0,u.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},s)}));return function(t){return n.apply(this,arguments)}}(),m=function(){var n=(0,c.Z)(i().mark(function s(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.kO)("/soms/report/room/history/list",(0,u.Z)((0,u.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},s)}));return function(t){return n.apply(this,arguments)}}(),O=function(){var n=(0,c.Z)(i().mark(function s(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.kO)("/soms/report/bandwidth/list",(0,u.Z)((0,u.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},s)}));return function(t){return n.apply(this,arguments)}}(),v=function(){var n=(0,c.Z)(i().mark(function s(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.kO)("/soms/report/speed/user/history/list",(0,u.Z)((0,u.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},s)}));return function(t){return n.apply(this,arguments)}}(),P=function(){var n=(0,c.Z)(i().mark(function s(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.kO)("/soms/report/vrsusage/list",(0,u.Z)((0,u.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},s)}));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=(0,c.Z)(i().mark(function s(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.kO)("/soms/report/queue/stat/list",(0,u.Z)((0,u.Z)({method:"POST"},t||{}),{},{responseType:"blob"})));case 1:case"end":return e.stop()}},s)}));return function(t){return n.apply(this,arguments)}}()},14877:function(R,g,a){"use strict";a.d(g,{Vb:function(){return i},Q8:function(){return _},d0:function(){return f},FK:function(){return m},Uq:function(){return O},KR:function(){return v}});var u=a(2824),c=a(30381),y=a.n(c),i=function(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD";return y()(l.format(n))},_=function(l,n,s){var t=(0,u.Z)(n,2),r=t[0],e=t[1];if(!r&&!e)return!1;var o=r&&i(l).diff(i(r),"days")>s-1,p=e&&i(e).diff(i(l),"days")>s-1;return p||o},f=function(l,n,s){var t=(0,u.Z)(n,2),r=t[0],e=t[1],o=function(){return Math.abs(i(l).diff(i(r||e),"days"))},p=l?l.date():void 0,h=l?l.hour():void 0,A=[0,0,0],T=A[0],x=A[1],M=!1;if(r){var S,K;M=!0;var N=(r==null||(S=r.format("HH:mm"))===null||S===void 0||(K=S.split(":"))===null||K===void 0?void 0:K.map(Number))||[],E=(0,u.Z)(N,2);T=E[0],x=E[1]}else if(e){var W,F,H=(e==null||(W=e.format("HH:mm"))===null||W===void 0||(F=W.split(":"))===null||F===void 0?void 0:F.map(Number))||[],Z=(0,u.Z)(H,2);T=Z[0],x=Z[1]}return{disabledHours:function(){return new Array(24).fill(0).map(function(D,C){return C}).filter(function(D){if((r||e)&&p){var C=o();if(C===0)return M?D<T&&D>-1:D<24&&D>T;if(C===s-1)return M?D>T:D<T}return!1})},disabledMinutes:function(){return new Array(60).fill(0).map(function(D,C){return C}).filter(function(D){if((r||e)&&p){var C=o();if(C===0&&h===T)return M?D<x:D>x;if(C===s-1&&h===T)return M?D>x:D<x}return!1})}}},m=function(l){var n=new Date(l),s=n.getFullYear()+".",t=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+".",r=n.getDate()<10?"0"+n.getDate():n.getDate();return s+t+r},O=function(l){var n=new Date(l),s=n.getFullYear()+".",t=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+".",r=(n.getDate()<10?"0"+n.getDate():n.getDate())+" ",e=(n.getHours()<10?"0"+n.getHours():n.getHours())+":",o=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes();return s+t+r+e+o},v=function(l){return Date.parse(m(l))/1e3}},28617:function(R,g,a){"use strict";a.d(g,{r:function(){return y}});var u=a(34792),c=a(48086),y=function(_,f){var m=new FileReader;m.readAsText(_,"utf-8"),_.type==="application/json"?m.onload=function(){var O=JSON.parse((m==null?void 0:m.result)+""),v=O.msg;c.default.warn(v)}:m.onload=function(){var O=window.URL.createObjectURL(_),v=document.createElement("a");v.href=O,v.download=f+".xlsx",document.body.appendChild(v),v.click(),document.body.removeChild(v)}}}}]);
