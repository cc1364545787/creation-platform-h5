(self.webpackChunktomp=self.webpackChunktomp||[]).push([[2868],{57084:function(){},98305:function(){},99509:function(){},16152:function(){},7391:function(){},58279:function(){},37598:function(Qe,oe,l){"use strict";var Ie=l(11849),Pe=l(22542),Le=l(85893),q=function(Ee){var De={search:!1,options:!1,pagination:{defaultPageSize:15,pageSizeOptions:["15","30","50"],showSizeChanger:!0}};return(0,Le.jsx)(Pe.ZP,(0,Ie.Z)({"data-inspector-line":"21","data-inspector-column":"9","data-inspector-relative-path":"src/components/CustomProTable/index.tsx"},Object.assign({},De,Ee)))};oe.Z=q},28387:function(Qe,oe,l){"use strict";l.r(oe),l.d(oe,{default:function(){return Dt}});var Ie=l(32157),Pe=l(87524),Le=l(57663),q=l(71577),Je=l(49111),Ee=l(19650),De=l(77576),Xe=l(12028),Ke=l(11849),Me=l(86582),kt=l(34792),ie=l(48086),se=l(3182),ce=l(2824),Ye=l(94043),D=l.n(Ye),n=l(67294),qe=l(67265),_e=l(37598),Ht=l(18106),ze=l(51752),Qt=l(84305),de=l(69224),Jt=l(6999),et=l(25378),tt={useBreakpoint:et.Z},at=l(8812),rt=l(21770),Xt=l(22385),nt=l(69713),lt=l(68628),Yt=l(58279),ot=l(94184),F=l.n(ot);function it(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var st=function(a){var t=a.label,r=a.tooltip,o=a.ellipsis,i=a.subTitle,g=(0,n.useContext)(de.ZP.ConfigContext),b=g.getPrefixCls;if(!r&&!i)return n.createElement(n.Fragment,null,t);var u=b("pro-core-label-tip"),S=typeof r=="string"||n.isValidElement(r)?{title:r}:r,K=(S==null?void 0:S.icon)||n.createElement(lt.Z,null);return n.createElement("div",{className:u,onMouseDown:function(O){return O.stopPropagation()},onMouseLeave:function(O){return O.stopPropagation()},onMouseMove:function(O){return O.stopPropagation()}},n.createElement("div",{className:F()("".concat(u,"-title"),it({},"".concat(u,"-title-ellipsis"),o))},t),i&&n.createElement("div",{className:"".concat(u,"-subtitle")},i),r&&n.createElement(nt.Z,S,n.createElement("span",{className:"".concat(u,"-icon")},K)))},ct=n.memo(st),dt=l(97435),qt=l(13062),_=l(71230),_t=l(89032),T=l(15746),ea=l(16152),ut=function(a){var t=a.style,r=a.prefix;return n.createElement("div",{className:"".concat(r,"-loading-content"),style:t},n.createElement(_.Z,{gutter:8},n.createElement(T.Z,{span:22},n.createElement("div",{className:"".concat(r,"-loading-block")}))),n.createElement(_.Z,{gutter:8},n.createElement(T.Z,{span:8},n.createElement("div",{className:"".concat(r,"-loading-block")})),n.createElement(T.Z,{span:15},n.createElement("div",{className:"".concat(r,"-loading-block")}))),n.createElement(_.Z,{gutter:8},n.createElement(T.Z,{span:6},n.createElement("div",{className:"".concat(r,"-loading-block")})),n.createElement(T.Z,{span:18},n.createElement("div",{className:"".concat(r,"-loading-block")}))),n.createElement(_.Z,{gutter:8},n.createElement(T.Z,{span:13},n.createElement("div",{className:"".concat(r,"-loading-block")})),n.createElement(T.Z,{span:9},n.createElement("div",{className:"".concat(r,"-loading-block")}))),n.createElement(_.Z,{gutter:8},n.createElement(T.Z,{span:4},n.createElement("div",{className:"".concat(r,"-loading-block")})),n.createElement(T.Z,{span:3},n.createElement("div",{className:"".concat(r,"-loading-block")})),n.createElement(T.Z,{span:16},n.createElement("div",{className:"".concat(r,"-loading-block")}))))},ft=ut,ta=l(57084),vt=function(a){var t=a.actions,r=a.prefixCls;return Array.isArray(t)&&(t==null?void 0:t.length)?n.createElement("ul",{className:"".concat(r,"-actions")},t.map(function(o,i){return n.createElement("li",{style:{width:"".concat(100/t.length,"%")},key:"action-".concat(i)},n.createElement("span",null,o))})):t?n.createElement("ul",{className:"".concat(r,"-actions")},t):null},pt=vt,aa=l(98305),mt=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","tabs","type"];function ue(){return ue=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ue.apply(this,arguments)}function Be(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function H(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Be(Object(t),!0).forEach(function(r){y(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Be(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function y(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function ee(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ee=function(t){return typeof t}:ee=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(e)}function Ge(e,a){return bt(e)||gt(e,a)||ht(e,a)||yt()}function yt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(e,a){if(!!e){if(typeof e=="string")return we(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return we(e,a)}}function we(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}function gt(e,a){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],o=!0,i=!1,g,b;try{for(t=t.call(e);!(o=(g=t.next()).done)&&(r.push(g.value),!(a&&r.length===a));o=!0);}catch(u){i=!0,b=u}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw b}}return r}}function bt(e){if(Array.isArray(e))return e}function Ct(e,a){if(e==null)return{};var t=Pt(e,a),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(a.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function Pt(e,a){if(e==null)return{};var t={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(a.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Et=tt.useBreakpoint,xt=n.forwardRef(function(e,a){var t,r,o,i=e.className,g=e.style,b=e.bodyStyle,u=b===void 0?{}:b,S=e.headStyle,K=S===void 0?{}:S,I=e.title,O=e.subTitle,W=e.extra,Q=e.tip,U=e.wrap,re=U===void 0?!1:U,Ae=e.layout,M=e.loading,J=e.gutter,fe=J===void 0?0:J,ve=e.tooltip,z=e.split,B=e.headerBordered,Ze=B===void 0?!1:B,pe=e.bordered,Ne=pe===void 0?!1:pe,me=e.children,ye=e.size,Te=e.actions,he=e.ghost,E=he===void 0?!1:he,p=e.hoverable,h=p===void 0?!1:p,m=e.direction,f=e.collapsed,v=e.collapsible,A=v===void 0?!1:v,s=e.defaultCollapsed,G=s===void 0?!1:s,j=e.onCollapse,V=e.tabs,L=e.type,Ue=Ct(e,mt),d=(0,n.useContext)(de.ZP.ConfigContext),Z=d.getPrefixCls,ge=Et(),Kt=(0,rt.Z)(G,{value:f,onChange:j}),Ve=Ge(Kt,2),je=Ve[0],Mt=Ve[1],be=["xxl","xl","lg","md","sm","xs"],zt=function(x){var C=[0,0],N=Array.isArray(x)?x:[x,0];return N.forEach(function($,k){if(ee($)==="object")for(var w=0;w<be.length;w+=1){var le=be[w];if(ge[le]&&$[le]!==void 0){C[k]=$[le];break}}else C[k]=$||0}),C},ne=function(x,C){return x?C:{}},Bt=function(x){var C=x;if(ee(x)==="object")for(var N=0;N<be.length;N+=1){var $=be[N];if(ge[$]&&x[$]!==void 0){C=x[$];break}}var k=ne(typeof C=="string"&&/\d%|\dpx/i.test(C),{width:C,flexShrink:0});return{span:C,colSpanStyle:k}},c=Z("pro-card"),Gt=zt(fe),ke=Ge(Gt,2),X=ke[0],Y=ke[1],Re=!1,$e=n.Children.toArray(me),wt=$e.map(function(R,x){var C;if(R==null||(C=R.type)===null||C===void 0?void 0:C.isProCard){var N;Re=!0;var $=R.props.colSpan,k=Bt($),w=k.span,le=k.colSpanStyle,Vt=F()(["".concat(c,"-col")],(N={},y(N,"".concat(c,"-split-vertical"),z==="vertical"&&x!==$e.length-1),y(N,"".concat(c,"-split-horizontal"),z==="horizontal"&&x!==$e.length-1),y(N,"".concat(c,"-col-").concat(w),typeof w=="number"&&w>=0&&w<=24),N));return n.createElement("div",{style:H(H(H({},le),ne(X>0,{paddingRight:X/2,paddingLeft:X/2})),ne(Y>0,{paddingTop:Y/2,paddingBottom:Y/2})),key:"pro-card-col-".concat(x),className:Vt},n.cloneElement(R))}return R}),Ft=F()("".concat(c),i,(t={},y(t,"".concat(c,"-border"),Ne),y(t,"".concat(c,"-contain-card"),Re),y(t,"".concat(c,"-loading"),M),y(t,"".concat(c,"-split"),z==="vertical"||z==="horizontal"),y(t,"".concat(c,"-ghost"),E),y(t,"".concat(c,"-hoverable"),h),y(t,"".concat(c,"-size-").concat(ye),ye),y(t,"".concat(c,"-type-").concat(L),L),y(t,"".concat(c,"-collapse"),je),t)),Wt=F()("".concat(c,"-body"),(r={},y(r,"".concat(c,"-body-center"),Ae==="center"),y(r,"".concat(c,"-body-direction-column"),z==="horizontal"||m==="column"),y(r,"".concat(c,"-body-wrap"),re&&Re),r)),Ut=H(H(H({},ne(X>0,{marginRight:-X/2,marginLeft:-X/2})),ne(Y>0,{marginTop:-Y/2,marginBottom:-Y/2})),u),He=n.isValidElement(M)?M:n.createElement(ft,{prefix:c,style:u.padding===0||u.padding==="0px"?{padding:24}:void 0}),Ce=A&&f===void 0&&n.createElement(at.Z,{rotate:je?void 0:90,className:"".concat(c,"-collapsible-icon")});return n.createElement("div",ue({className:Ft,style:g,ref:a},(0,dt.Z)(Ue,["id","prefixCls","colSpan"])),(I||W||Ce)&&n.createElement("div",{className:F()("".concat(c,"-header"),(o={},y(o,"".concat(c,"-header-border"),Ze||L==="inner"),y(o,"".concat(c,"-header-collapsible"),Ce),o)),style:K,onClick:function(){Ce&&Mt(!je)}},n.createElement("div",{className:"".concat(c,"-title")},Ce,n.createElement(ct,{label:I,tooltip:ve||Q,subTitle:O})),W&&n.createElement("div",{className:"".concat(c,"-extra")},W)),V?n.createElement("div",{className:"".concat(c,"-tabs")},n.createElement(ze.Z,ue({onChange:V.onChange},V),M?He:me)):n.createElement("div",{className:Wt,style:Ut},M?He:wt),n.createElement(pt,{actions:Te,prefixCls:c}))}),xe=xt,ra=l(7391),St=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"];function Se(){return Se=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Se.apply(this,arguments)}function Ot(e,a){if(e==null)return{};var t=At(e,a),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(a.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function At(e,a){if(e==null)return{};var t={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(a.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Zt=function(a){var t=a.key,r=a.tab,o=a.tabKey,i=a.disabled,g=a.destroyInactiveTabPane,b=a.children,u=a.className,S=a.style,K=a.cardProps,I=Ot(a,St),O=(0,n.useContext)(de.ZP.ConfigContext),W=O.getPrefixCls,Q=W("pro-card-tabpane"),U=F()(Q,u);return n.createElement(ze.Z.TabPane,Se({key:t,tabKey:o,tab:r,className:U,style:S,disabled:i,destroyInactiveTabPane:g},I),n.createElement(xe,K,b))},Nt=Zt,na=l(99509);function Tt(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var jt=function(a){var t=(0,n.useContext)(de.ZP.ConfigContext),r=t.getPrefixCls,o=r("pro-card-divider"),i=a.className,g=a.style,b=g===void 0?{}:g,u=a.type,S=F()(o,i,Tt({},"".concat(o,"-").concat(u),u));return n.createElement("div",{className:S,style:b})},Rt=jt;function Oe(){return Oe=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Oe.apply(this,arguments)}var $t=function(a){return n.createElement(xe,Oe({bodyStyle:{padding:0}},a))},te=xe;te.isProCard=!0,te.Divider=Rt,te.TabPane=Nt,te.Group=$t;var It=te,Fe=It,ae=l(48790);function We(e,a,t){var r=t||{},o=r.idKey,i=o===void 0?"id":o,g=r.parentIdKey,b=g===void 0?"parentId":g;return e.filter(function(u){return u[b]===a?(u.children=We(e,u[i]),!0):!1})}var P=l(85893),Lt=function(a){var t=a.match.params,r=t.id,o=t.roleName,i=(0,n.useState)([]),g=(0,ce.Z)(i,2),b=g[0],u=g[1],S=(0,n.useState)([]),K=(0,ce.Z)(S,2),I=K[0],O=K[1],W=(0,n.useState)(!1),Q=(0,ce.Z)(W,2),U=Q[0],re=Q[1],Ae=(0,n.useState)(0),M=(0,ce.Z)(Ae,2),J=M[0],fe=M[1],ve=(0,n.useRef)(),z=(0,n.useRef)(),B=r==="-1",Ze=function(){var E=(0,se.Z)(D().mark(function p(h){var m,f,v;return D().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,ae.Gb)(h,r);case 3:return m=s.sent,f=m.data,v=m.total,s.abrupt("return",{data:f.records,total:v,success:!0});case 9:return s.prev=9,s.t0=s.catch(0),s.abrupt("return",{data:[],total:0,success:!1});case 12:case"end":return s.stop()}},p,null,[[0,9]])}));return function(h){return E.apply(this,arguments)}}(),pe=function(){var E=(0,se.Z)(D().mark(function p(h,m){var f,v;return D().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,ae.TQ)({data:{appId:h.appId,operate:Number(m)}},r);case 2:f=s.sent,f.code===0?(ie.default.success("\u64CD\u4F5C\u6210\u529F"),(v=z.current)===null||v===void 0||v.reload()):f.msg&&ie.default.error(f.msg);case 4:case"end":return s.stop()}},p)}));return function(h,m){return E.apply(this,arguments)}}(),Ne=function(){var E=(0,se.Z)(D().mark(function p(){var h,m,f,v,A,s;return D().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return h=ve.current.getTreeNodeRequiredProps(),m=h.halfCheckedKeys,f=m===void 0?[]:m,v=h.checkedKeys,A=v===void 0?[]:v,j.next=3,(0,ae.Vl)({data:{authorities:[].concat((0,Me.Z)(A),(0,Me.Z)(f)).join(",")}},r);case 3:s=j.sent,s.code===0?(ie.default.success("\u64CD\u4F5C\u6210\u529F"),fe(J+1),re(!1)):s.msg&&ie.default.error(s.msg);case 5:case"end":return j.stop()}},p)}));return function(){return E.apply(this,arguments)}}(),me=function(){re(!0)},ye=function(){re(!1),fe(J+1)},Te=function(p){O(p)};(0,n.useEffect)(function(){var E=function(){var p=(0,se.Z)(D().mark(function h(){var m,f,v,A,s,G,j,V,L;return D().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,(0,ae.PO)(r);case 3:if(d.t0=d.sent,d.t0){d.next=6;break}d.t0={};case 6:return A=d.t0,s=A.data,G=s===void 0?[]:s,d.next=11,(0,ae.FH)();case 11:if(d.t1=d.sent,d.t1){d.next=14;break}d.t1={};case 14:j=d.t1,V=j.data,L=V===void 0?[]:V,O(B?L==null?void 0:L.map(function(Z){return Z.id}):(m=G==null||(f=G.authorities)===null||f===void 0||(v=f.filter(function(Z){return!G.authorities.find(function(ge){return Z.id===ge.parentId})}))===null||v===void 0?void 0:v.map(function(Z){return Z.id}))!==null&&m!==void 0?m:[]),u(We(L.map(function(Z){return(0,Ke.Z)((0,Ke.Z)({},Z),{},{key:Z.id,title:Z.name})}),0)),d.next=24;break;case 21:d.prev=21,d.t2=d.catch(0),console.error(d.t2);case 24:case"end":return d.stop()}},h,null,[[0,21]])}));return function(){return p.apply(this,arguments)}}();E()},[r,J,B]);var he=[{title:"\u5E94\u7528\u540D\u79F0",dataIndex:"appName",key:"appName",ellipsis:!0},{title:"AppID",dataIndex:"appId",key:"appId",ellipsis:!0,valueType:"password"},{title:"\u64CD\u4F5C",dataIndex:"state",key:"op",align:"center",width:140,render:function(p,h){return(0,P.jsx)(Ee.Z,{"data-inspector-line":"162","data-inspector-column":"8","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",size:"middle",children:(0,P.jsx)(Xe.Z,{"data-inspector-line":"163","data-inspector-column":"10","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",disabled:B,onChange:function(f){return pe(h,f)},checked:B?!0:Boolean(p)})})}}];return(0,P.jsxs)(qe.ZP,{"data-inspector-line":"174","data-inspector-column":"4","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",header:{breadcrumbRender:function(p,h){var m=p.breadcrumb,f=m||{},v=f.routes,A=v===void 0?[]:v;return A[A.length-1].breadcrumbName=o,h}},children:[(0,P.jsx)(Fe,{"data-inspector-line":"184","data-inspector-column":"6","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",title:"\u6570\u636E\u6743\u9650",bodyStyle:{padding:0},children:(0,P.jsx)(_e.Z,{"data-inspector-line":"185","data-inspector-column":"8","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",actionRef:z,columns:he,request:Ze,options:!1,search:!1,rowKey:"appId",scroll:{y:180},pagination:!1})}),(0,P.jsx)(Fe,{"data-inspector-line":"196","data-inspector-column":"6","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",title:"\u529F\u80FD\u6743\u9650",extra:U?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(q.Z,{"data-inspector-line":"201","data-inspector-column":"14","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",type:"link",onClick:Ne,children:"\u4FDD\u5B58"}),(0,P.jsx)(q.Z,{"data-inspector-line":"204","data-inspector-column":"14","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",type:"link",onClick:ye,children:"\u53D6\u6D88"})]}):(0,P.jsx)(q.Z,{"data-inspector-line":"209","data-inspector-column":"12","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",disabled:B,type:"link",onClick:me,children:"\u7F16\u8F91"}),children:b.length?(0,P.jsx)(Pe.Z,{"data-inspector-line":"216","data-inspector-column":"10","data-inspector-relative-path":"src/pages/Role/Auth/index.tsx",ref:ve,disabled:!U,defaultExpandAll:!0,blockNode:!0,checkable:!0,selectable:!1,checkedKeys:I,onCheck:Te,treeData:b}):(0,P.jsx)(P.Fragment,{})})]})},Dt=Lt}}]);
