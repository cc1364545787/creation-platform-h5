(self.webpackChunktomp=self.webpackChunktomp||[]).push([[4908],{19400:function(x){x.exports={chart:"chart___2naCX",emptyText:"emptyText___3AtYf"}},51126:function(x){x.exports={drakgray:"drakgray___3Xgdv",breakAll:"breakAll___2G4t6",chartsHeader:"chartsHeader___3YBuo",chartsBody:"chartsBody___zGaeU",tooltip:"tooltip___3peCV"}},40041:function(x,O,e){"use strict";var a=e(11849),u=e(2824),s=e(67294),l=e(23279),m=e.n(l),f=e(7438),y=e(19400),g=e.n(y),A=e(85893),I={xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},dataZoom:[{type:"slider"}],series:[{data:[],type:"line",smooth:!0}],tooltip:{trigger:"axis",axisPointer:{type:"line"}}},_=function(o,c){var E=(0,s.createRef)(),n=(0,s.useState)(),h=(0,u.Z)(n,2),P=h[0],oe=h[1];return(0,s.useImperativeHandle)(c,function(){return E.current}),(0,s.useEffect)(function(){var w=m()(function(){P==null||P.resize()},300);return window.addEventListener("resize",w),function(){window.removeEventListener("resize",w)}},[P]),(0,s.useEffect)(function(){var w,M,b=null,J=!o.series||(Array.isArray(o.series)?o.series.every(function(U){var F;return(U==null||(F=U.data)===null||F===void 0?void 0:F.length)===0}):((w=o.series)===null||w===void 0||(M=w.data)===null||M===void 0?void 0:M.length)===0),z=function(){return{title:o.title,xAxis:Array.isArray(o.xAxis)?o.xAxis.map(function(F){return(0,a.Z)((0,a.Z)({},I.xAxis),F)}):(0,a.Z)((0,a.Z)({},I.xAxis),o.xAxis),yAxis:Array.isArray(o.yAxis)?o.yAxis.map(function(F){return(0,a.Z)((0,a.Z)({},I.yAxis),F)}):(0,a.Z)((0,a.Z)({},I.yAxis),o.yAxis),grid:o.grid,axisPointer:o.axisPointer,toolbox:o.toolbox,dataZoom:J?!1:o.dataZoom||I.dataZoom,series:o.series,tooltip:(0,a.Z)((0,a.Z)({},I.tooltip),o.tooltip)}};if(P||oe(f.S1(E.current)),P&&P.setOption(z()),J){var ne;b=document.createElement("div"),b.innerText="\u6682\u65E0\u6570\u636E",b.className=g().emptyText,(ne=E.current)===null||ne===void 0||ne.appendChild(b)}return function(){var U;(U=b)===null||U===void 0||U.remove(),P==null||P.clear()}},[E,P,o]),(0,A.jsx)("div",{"data-inspector-line":"94","data-inspector-column":"9","data-inspector-relative-path":"src/components/BaseChart/index.tsx",ref:E,className:g().chart,style:o.styles||{}})};O.Z=(0,s.forwardRef)(_)},37598:function(x,O,e){"use strict";var a=e(11849),u=e(22542),s=e(85893),l=function(f){var y={search:!1,options:!1,pagination:{defaultPageSize:15,pageSizeOptions:["15","30","50"],showSizeChanger:!0}};return(0,s.jsx)(u.ZP,(0,a.Z)({"data-inspector-line":"21","data-inspector-column":"9","data-inspector-relative-path":"src/components/CustomProTable/index.tsx"},Object.assign({},y,f)))};O.Z=l},44433:function(x,O,e){"use strict";e.r(O);var a=e(13254),u=e(14277),s=e(53400),l=e(94168),m=e(58024),f=e(39144),y=e(32059),g=e(3182),A=e(57663),I=e(71577),_=e(49111),i=e(19650),o=e(88983),c=e(47933),E=e(34792),n=e(48086),h=e(11849),P=e(2824),oe=e(94043),w=e.n(oe),M=e(67294),b=e(2489),J=e(78718),z=e.n(J),ne=e(30381),U=e.n(ne),F=e(80129),me=e.n(F),ce=e(67265),ve=e(37598),fe=e(40041),$=e(94617),Z=e(51126),C=e.n(Z),Ue=e(68855),ye=e(28617),Q=e(14877),T=e(85893),Ee=function(R){return U()(parseInt(R.slice(0,-6)))},Ce=function(){var R=b.m8.location.query,Le=(0,M.useState)(R?(0,h.Z)((0,h.Z)({},z()(R,["appId","userId","roomId","startTime","endTime","streamId","queryStreamId"])),{},{roomUserSessionId:parseInt(R.roomUserSessionId||""),roomSid:parseInt(R.roomSid||""),sessionTypes:"0,1",byId:parseInt(R.byId||"")||0}):{}),Ze=(0,P.Z)(Le,1),se=Ze[0],Re=(0,M.useState)({streamId:(R==null?void 0:R.streamId)||"",sessionType:parseInt((R==null?void 0:R.sessionType)||"")||0}),xe=(0,P.Z)(Re,2),K=xe[0],ge=xe[1],Ke=(0,M.useState)([]),he=(0,P.Z)(Ke,2),We=he[0],Ne=he[1],je=(0,M.useState)(),Te=(0,P.Z)(je,2),le=Te[0],we=Te[1],Fe=(0,M.useState)([]),Oe=(0,P.Z)(Fe,2),G=Oe[0],Qe=Oe[1],He=(0,M.useState)(!1),Ie=(0,P.Z)(He,2),Ye=Ie[0],De=Ie[1],Ve=(0,M.useState)(!1),Pe=(0,P.Z)(Ve,2),Ae=Pe[0],Me=Pe[1],ze=(0,M.useState)(),Se=(0,P.Z)(ze,2),k=Se[0],be=Se[1],Ge=(0,M.useRef)(),Xe=[{title:"\u7528\u6237ID",dataIndex:"userId",ellipsis:!0},{title:"SDK\u7248\u672C",dataIndex:"sdkVersion",ellipsis:!0},{title:"\u7CFB\u7EDF\u7C7B\u578B",dataIndex:"osType",ellipsis:!0},{title:"\u7CFB\u7EDF\u4FE1\u606F",dataIndex:"osInfo",ellipsis:!0}],Je=function(r){b.m8.replace({query:(0,h.Z)((0,h.Z)({},R),{},{streamId:r.streamId,sessionType:String(r.sessionType),filterStartTime:r.wStartTime})}),ge(r),be(void 0)},$e=function(r){var d=r.wStartTime,p=r.wEndTime,v=(0,h.Z)((0,h.Z)({},z()(r,["appId","roomId","roomSid","roomUserSessionId","streamId"])),{},{queryStreamId:r.streamId,sessionType:String(Number(!r.sessionType)),startTime:d,endTime:p,byId:"1",userId:""});(0,$.h)((0,h.Z)((0,h.Z)({},z()(r,["appId","roomId","roomSid","roomUserSessionId","streamId"])),{},{byId:1,startTime:d,endTime:p,userId:""})).then(function(D){D.code===0?window.open("/quality-operation/analysis-detail?".concat(me().stringify(v))):D.msg&&n.default.error("\u6570\u636E\u4E22\u5931\uFF0C\u8FDC\u7AEF\u7528\u6237\u6570\u636E\u65E0\u6CD5\u67E5\u770B")}).catch(function(D){n.default.error(D)})},ke=function(r){var d=r?U()(U()(r).format("YYYY-MM-DD HH:mm")):null;b.m8.replace({query:(0,h.Z)((0,h.Z)({},R),{},{filterStartTime:d?"".concat(U()(d).valueOf(),"000000"):""})}),be(d)},qe=[{title:"\u6D41",render:function(r,d){var p=(d==null?void 0:d.sessionType)===1?"\u62C9\u6D41":"\u63A8\u6D41";return(0,T.jsx)(c.ZP,{"data-inspector-line":"159","data-inspector-column":"10","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",checked:K.streamId===d.streamId&&K.sessionType===d.sessionType,onChange:function(){return Je(d)},children:p})}},{title:"\u6D41ID",dataIndex:"streamId",render:function(r){return(0,T.jsxs)(i.Z,{"data-inspector-line":"176","data-inspector-column":"10","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",children:[(0,T.jsx)("span",{"data-inspector-line":"177","data-inspector-column":"12","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",className:C().drakgray,children:"\u6D41ID"}),(0,T.jsx)("span",{"data-inspector-line":"178","data-inspector-column":"12","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",className:C().breakAll,children:r})]})}},{title:"\u8D77\u6B62\u65F6\u95F4",render:function(r,d){return(0,T.jsxs)(i.Z,{"data-inspector-line":"187","data-inspector-column":"10","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",children:[(0,T.jsx)("span",{"data-inspector-line":"188","data-inspector-column":"12","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",className:C().drakgray,children:"\u8D77\u6B62\u65F6\u95F4"}),(0,T.jsx)("span",{"data-inspector-line":"189","data-inspector-column":"12","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",children:"".concat(d.startTime,"-").concat(d.endTime)})]})}},{title:"\u65F6\u957F",dataIndex:"duration",render:function(r,d){var p=Math.floor(d.duration/60),v=d.duration%60;return(0,T.jsxs)(i.Z,{"data-inspector-line":"201","data-inspector-column":"10","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",children:[(0,T.jsx)("span",{"data-inspector-line":"202","data-inspector-column":"12","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",className:C().drakgray,children:"\u65F6\u957F"}),(0,T.jsx)("span",{"data-inspector-line":"203","data-inspector-column":"12","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",children:p||v?"".concat(p?p+"h":"").concat(v?v+"min":""):"-"})]})}},{title:"\u64CD\u4F5C",render:function(r,d){return(0,T.jsx)(T.Fragment,{children:d.sessionType===1?(0,T.jsx)(I.Z,{"data-inspector-line":"216","data-inspector-column":"14","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",type:"link",onClick:function(){return $e(d)},children:"\u67E5\u770B\u8FDC\u7AEF\u7528\u6237"}):(0,T.jsx)(T.Fragment,{})})}}],et=function(){var t=(0,g.Z)(w().mark(function r(){var d,p,v,D,B,S,L,q,Y,de,ue,_e,j,ie,ee,V;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(d=G==null?void 0:G.find(function(N){return N.streamId===K.streamId&&N.sessionType===K.sessionType}),p=d,v=p.wStartTime,D=p.wEndTime,B=p.userId,S=p.roomSid,L=p.roomUserSessionId,q=(k==null?void 0:k.valueOf())||parseInt(v.slice(0,-6)),Y=k?"".concat(q,"000000"):v,de=q+60*60*1e3,ue=de>parseInt(D.slice(0,-6))?D:"".concat(de,"000000"),_e={streamId:K.streamId,startTime:Y,endTime:ue,userId:B,roomSid:S,roomUserSessionId:L,exportFlag:!0},!(!d||!d.streamId)){W.next=9;break}return W.abrupt("return");case 9:if(j=Y.slice(0,13),ie=ue.slice(0,13),d.sessionType!==1){W.next=17;break}return ee="".concat(K.streamId+"\u62C9\u6D41"+(0,Q.Uq)(Number(j))+" - "+(0,Q.Uq)(Number(ie))),W.next=15,(0,$.Vt)(_e).then(function(N){(0,ye.r)(N,ee)});case 15:W.next=20;break;case 17:return V="".concat(K.streamId+"\u63A8\u6D41"+(0,Q.Uq)(Number(j))+" - "+(0,Q.Uq)(Number(ie))),W.next=20,(0,$.X7)(_e).then(function(N){(0,ye.r)(N,V)});case 20:case"end":return W.stop()}},r)}));return function(){return t.apply(this,arguments)}}();(0,M.useEffect)(function(){De(!0),(0,$.h)((0,h.Z)((0,h.Z)({},z()(se,["appId","roomId","roomSid","roomUserSessionId","startTime","endTime","byId"])),{},{userId:se.byId?"":se.userId,streamId:se.byId?se.queryStreamId:""})).then(function(t){if(t.code===0)return Ne(t.data?[t.data]:[]),t.data;t.msg&&n.default.error(t.msg)}).then(function(t){if(t){var r=t.wLoginTime,d=t.wLogoutTime,p=t.userId,v=t.roomSid,D=t.roomUserSessionId;return(0,$.AR)((0,h.Z)((0,h.Z)({},z()(se,["appId","sessionTypes"])),{},{startTime:r,endTime:d,userId:p,roomSid:v,roomUserSessionId:D})).then(function(B){if(B.code===0){var S,L=((S=B.data)===null||S===void 0?void 0:S.dataList)||[];!K.streamId&&L.length&&ge(L[0]),Qe(L||[])}else B.msg&&n.default.error(B.msg)}).catch(function(B){n.default.error(B)})}}).catch(function(t){n.default.error(t)}).finally(function(){De(!1)})},[se]),(0,M.useEffect)(function(){var t=G==null?void 0:G.find(function(j){return j.streamId===K.streamId&&j.sessionType===K.sessionType});if(!(!t||!t.streamId)){Me(!0);var r=(t==null?void 0:t.sessionType)===1?"\u62C9\u6D41":"\u63A8\u6D41",d=t||{},p=d.wStartTime,v=d.wEndTime,D=d.userId,B=d.roomSid,S=d.roomUserSessionId,L=(k==null?void 0:k.valueOf())||parseInt(p.slice(0,-6)),q=k?"".concat(L,"000000"):p,Y=L+60*60*1e3,de=Y>parseInt(v.slice(0,-6))?v:"".concat(Y,"000000"),ue={streamId:K.streamId,startTime:q,endTime:de,userId:D,roomSid:B,roomUserSessionId:S};console.warn("startTime:",U()(parseInt(q.slice(0,-6))).format("YYYY-MM-DD HH:mm:ss")),console.warn("endTime:",U()(parseInt(de.slice(0,-6))).format("YYYY-MM-DD HH:mm:ss"));var _e=t.sessionType===1?(0,$.IP)(ue):(0,$.ah)(ue);_e.then(function(j){if(j.code===0){var ie,ee=((ie=j.data.dataList)===null||ie===void 0?void 0:ie.reduce(function(V,re){for(var W=Object.keys(re),N=0,pe=W;N<pe.length;N++){var te=pe[N];Array.isArray(V[te])?V[te].push(re[te]):V[te]=[re[te]]}return(0,h.Z)({},V)},{}))||{};we(t?[{title:"".concat(r,"\u7801\u7387"),unit:"kbps",serieNames:["kbps","akbps"],legend:["\u89C6\u9891\u7801\u7387","\u97F3\u9891\u7801\u7387"]},{title:"".concat(r,"\u5E27\u7387"),unit:"fps",serieNames:["fps"],legend:["\u89C6\u9891\u5E27\u7387"]},{title:"".concat(r,"\u4E22\u5305\u7387"),unit:"%",serieNames:["pktLostRate"],legend:["\u4E22\u5305\u7387"],max:100},{title:"".concat(r,"RTT"),unit:"ms",serieNames:["rtt"],legend:["\u5F80\u8FD4\u65F6\u95F4"]},{title:"".concat(r,"\u89C6\u9891\u6E05\u6670\u5EA6"),unit:"",serieNames:["w"],legend:["\u6E05\u6670\u5EA6"]},r==="\u62C9\u6D41"&&{title:"".concat(r,"\u5E73\u5747\u5EF6\u8FDF"),unit:"ms",serieNames:["delay"],legend:["\u5E73\u5747\u5EF6\u8FDF"]}].filter(Boolean).map(function(V){var re,W;return(0,h.Z)((0,h.Z)({},V),{},{xAxis:(ee==null||(re=ee.eventTime)===null||re===void 0?void 0:re.map(function(N){return U()(N*1e3).format("HH:mm:ss")}))||[]},V?(W=V.serieNames)===null||W===void 0?void 0:W.reduce(function(N,pe){var te;return(0,h.Z)((0,h.Z)({},N),{},(te={},(0,y.Z)(te,pe,ee?ee[pe]:[]),(0,y.Z)(te,"h",ee&&V.serieNames[0]==="w"?ee.h:null),te))},{}):{})}):[])}else j.msg&&n.default.error(j.msg)}).catch(function(j){n.default.error(j)}).finally(function(){Me(!1)})}},[k,K,G,se]);var H=G==null?void 0:G.find(function(t){return t.streamId===K.streamId&&t.sessionType===K.sessionType}),X=H!=null&&H.wStartTime?Ee(H==null?void 0:H.wStartTime):void 0,ae=H!=null&&H.wEndTime?Ee(H==null?void 0:H.wEndTime):void 0;return(0,T.jsx)(ce.ZP,{"data-inspector-line":"483","data-inspector-column":"4","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",loading:Ye,waterMarkProps:void 0==="quality"?{}:void 0,header:{breadcrumb:{routes:[{path:"/quality-operation",breadcrumbName:"\u8D28\u91CF\u8FD0\u8425"},{path:"/quality-operation/user-analysis",breadcrumbName:"\u7528\u6237\u5206\u6790"}],itemRender:function(r){var d=b.m8.location.pathname===r.path||b.m8.location.pathname===r.path+"/";return(0,T.jsx)("span",{"data-inspector-line":"503","data-inspector-column":"14","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",style:{cursor:"pointer"},onClick:function(){return!d&&b.m8.push(r.path)},children:r.breadcrumbName})}}},children:(0,T.jsxs)(f.Z,{"data-inspector-line":"514","data-inspector-column":"6","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",children:[(0,T.jsx)(f.Z,{"data-inspector-line":"516","data-inspector-column":"8","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",style:{marginBottom:"16px"},bordered:!1,bodyStyle:{paddingBottom:0},children:(0,T.jsx)(ve.Z,{"data-inspector-line":"517","data-inspector-column":"10","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",columns:Xe,dataSource:We,rowKey:"userId",headerTitle:"\u57FA\u672C\u4FE1\u606F",pagination:!1})}),(0,T.jsx)(f.Z,{"data-inspector-line":"525","data-inspector-column":"8","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",style:{marginBottom:"16px"},bordered:!1,bodyStyle:{paddingBottom:0},children:(0,T.jsx)(ve.Z,{"data-inspector-line":"526","data-inspector-column":"10","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",columns:qe,dataSource:G,headerTitle:"\u6D41\u5217\u8868",rowKey:function(r){var d=r.streamId,p=r.sessionType;return"".concat(d,"-").concat(p)},showHeader:!1,pagination:!1,scroll:{y:200}})}),K.streamId?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(f.Z,{"data-inspector-line":"540","data-inspector-column":"12","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",loading:Ae,style:{marginBottom:"16px"},bordered:!1,bodyStyle:{paddingBottom:0},children:[(0,T.jsxs)(i.Z,{"data-inspector-line":"546","data-inspector-column":"14","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",children:[(0,T.jsx)(l.Z,{"data-inspector-line":"547","data-inspector-column":"16","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",showTime:{showHour:!0,showMinute:!0,defaultValue:X},format:"YYYY.MM.DD HH:mm",defaultPickerValue:X,disabledDate:function(r){return!X||!r?!1:(0,Q.Vb)(r).diff((0,Q.Vb)(X),"days")>0||!!ae&&(0,Q.Vb)(ae).diff((0,Q.Vb)(r),"days")>0},showNow:!1,disabledTime:function(r){if(!X||!r)return{disabledHours:function(){return[]},disabledMinutes:function(){return[]}};var d=(0,Q.Vb)(r).diff((0,Q.Vb)(X),"days")===0,p=ae&&(0,Q.Vb)(ae).diff((0,Q.Vb)(r),"days")===0,v=d&&r.hour()===X.hour(),D=p&&r.hour()===ae.hour();return{disabledHours:function(){return new Array(24).fill(0).map(function(S,L){return L}).filter(function(S){return d&&p?S<X.hour()||S>ae.hour():d?S<X.hour():p?S>ae.hour():!1})},disabledMinutes:function(){return new Array(60).fill(0).map(function(S,L){return L}).filter(function(S){return v&&D?S<X.minute()||S>ae.minute():v?S<X.minute():D?S>ae.minute():!1})}}},value:k,placeholder:"\u8BF7\u9009\u62E9\u8D77\u59CB\u65F6\u95F4",onChange:ke}),(0,T.jsx)(Ue.Z,{"data-inspector-line":"616","data-inspector-column":"16","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx"}),(0,T.jsx)("span",{"data-inspector-line":"617","data-inspector-column":"16","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",children:"\u56FE\u8868\u6700\u591A\u5C55\u793A1\u5C0F\u65F6\u8303\u56F4\u7684\u6570\u636E"})]}),(0,T.jsx)(I.Z,{"data-inspector-line":"619","data-inspector-column":"14","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",type:"primary",style:{float:"right",marginRight:"26px"},onClick:et,children:"\u5BFC\u51FA"})]}),(0,T.jsx)(f.Z,{"data-inspector-line":"627","data-inspector-column":"12","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",loading:Ae,style:{marginBottom:"16px"},bordered:!1,bodyStyle:{paddingBottom:0},children:le==null?void 0:le.map(function(t){var r,d;return(0,T.jsx)(fe.Z,{"data-inspector-line":"634","data-inspector-column":"16","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",ref:Ge,title:[{text:t.title}],dataZoom:[{xAxisIndex:(r=t.serieNames)===null||r===void 0?void 0:r.map(function(p,v){return v}),type:"slider"}],legend:{data:t.legend,left:10},axisPointer:{link:[{xAxisIndex:"all"}]},grid:t.serieNames&&t.serieNames.length>1?[{top:"10%",height:"35%"},{top:"45%",height:"35%"}]:{},xAxis:t.serieNames&&t.serieNames.length&&t.serieNames.map(function(p,v){return(0,h.Z)({gridIndex:v,type:"category",boundaryGap:!1,data:t.xAxis},t.serieNames.length>1?{axisLabel:{show:!!v},axisLine:{onZero:!0},offset:v?20:0}:{})})||[],yAxis:t.serieNames[0]==="w"?t.serieNames&&t.serieNames.length&&t.serieNames.map(function(p,v){return{gridIndex:v,name:"".concat(t.legend&&t.legend[v]),type:"value",min:0,max:t.max||(t[p]&&t[p].length?void 0:100),minInterval:1,axisLabel:{formatter:"{value}P"},inverse:!!v}}):t.serieNames&&t.serieNames.length&&t.serieNames.map(function(p,v){return{gridIndex:v,name:"".concat(t.legend&&t.legend[v]||t.title).concat(t.unit?"("+t.unit+")":""),type:"value",min:0,max:t.max||(t[p]&&t[p].length?void 0:100),minInterval:5,axisLabel:{formatter:"{value}"},inverse:!!v}})||[],series:t.serieNames&&t.serieNames.length&&((d=t.serieNames)===null||d===void 0?void 0:d.map(function(p,v){return{xAxisIndex:v,yAxisIndex:v,name:t.legend&&t.legend[v]||t.title,type:"line",symbol:!1,symbolSize:0,smooth:!0,data:t[p]||[]}}))||[],tooltip:{trigger:"axis",axisPointer:{type:"line"},formatter:function(v){var D=v.find(function(Y){return Y.seriesIndex===0});console.log(le),console.log("chartsData");var B=le[4].xAxis.findIndex(function(Y){return Y===D.axisValue}),S=le[4].h[B],L=v.find(function(Y){return Y.seriesIndex===1}),q=`<div>
                        <div class="`.concat(C().tooltip,`">
                          <div>\u65F6\u95F4\uFF1A</div>
                          <div>`).concat((D==null?void 0:D.axisValue)||"",`</div>
                        </div>`);return q+=D?D.seriesName!=="\u6E05\u6670\u5EA6"?'<div class="'.concat(C().tooltip,`">
                          <div>`).concat(D.seriesName,`\uFF1A</div>
                          <div>`).concat(D.data," ").concat(t.unit,`</div>
                        </div>`):'<div class="'.concat(C().tooltip,`">
                        <div>`).concat(D.seriesName,`\uFF1A</div>
                        <div>`).concat(S," x ").concat(D.data,`</div>
                      </div>`):"",q+=L?'<div class="'.concat(C().tooltip,`">
                          <div>`).concat(L.seriesName,`\uFF1A</div>
                          <div>`).concat(L.data," ").concat(t.unit,`</div>
                        </div>
                      </div>`):"",q}},styles:{width:"100%",margin:"0 auto 10px"}},t.title)})})]}):(0,T.jsx)(u.Z,{"data-inspector-line":"792","data-inspector-column":"10","data-inspector-relative-path":"src/pages/QualityOperation/AnalysisDetail/index.tsx",description:"\u8BF7\u9009\u62E9\u6D41\u540E\u518D\u67E5\u770B\u6570\u636E"})]})})};O.default=Ce},94617:function(x,O,e){"use strict";e.d(O,{uj:function(){return m},h:function(){return f},AR:function(){return y},ah:function(){return g},IP:function(){return A},Vt:function(){return I},X7:function(){return _}});var a=e(3182),u=e(94043),s=e.n(u),l=e(58075),m=function(){var i=(0,a.Z)(s().mark(function o(c){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.kO)("/soms/speed/user/list",{method:"POST",data:c}));case 1:case"end":return n.stop()}},o)}));return function(c){return i.apply(this,arguments)}}(),f=function(){var i=(0,a.Z)(s().mark(function o(c){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.kO)("/soms/speed/user",{method:"POST",data:c}));case 1:case"end":return n.stop()}},o)}));return function(c){return i.apply(this,arguments)}}(),y=function(){var i=(0,a.Z)(s().mark(function o(c){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.kO)("/soms/speed/stream/list",{method:"POST",data:c}));case 1:case"end":return n.stop()}},o)}));return function(c){return i.apply(this,arguments)}}(),g=function(){var i=(0,a.Z)(s().mark(function o(c){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.kO)("/soms/speed/quality/pub/list",{method:"POST",data:c}));case 1:case"end":return n.stop()}},o)}));return function(c){return i.apply(this,arguments)}}(),A=function(){var i=(0,a.Z)(s().mark(function o(c){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.kO)("/soms/speed/quality/play/list",{method:"POST",data:c}));case 1:case"end":return n.stop()}},o)}));return function(c){return i.apply(this,arguments)}}(),I=function(){var i=(0,a.Z)(s().mark(function o(c){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.kO)("/soms/speed/quality/play/list",{method:"POST",data:c,responseType:"blob"}));case 1:case"end":return n.stop()}},o)}));return function(c){return i.apply(this,arguments)}}(),_=function(){var i=(0,a.Z)(s().mark(function o(c){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.kO)("/soms/speed/quality/pub/list",{method:"POST",data:c,responseType:"blob"}));case 1:case"end":return n.stop()}},o)}));return function(c){return i.apply(this,arguments)}}()},14877:function(x,O,e){"use strict";e.d(O,{Vb:function(){return l},Q8:function(){return m},d0:function(){return f},FK:function(){return y},Uq:function(){return g},KR:function(){return A}});var a=e(2824),u=e(30381),s=e.n(u),l=function(_){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD";return s()(_.format(i))},m=function(_,i,o){var c=(0,a.Z)(i,2),E=c[0],n=c[1];if(!E&&!n)return!1;var h=E&&l(_).diff(l(E),"days")>o-1,P=n&&l(n).diff(l(_),"days")>o-1;return P||h},f=function(_,i,o){var c=(0,a.Z)(i,2),E=c[0],n=c[1],h=function(){return Math.abs(l(_).diff(l(E||n),"days"))},P=_?_.date():void 0,oe=_?_.hour():void 0,w=[0,0,0],M=w[0],b=w[1],J=!1;if(E){var z,ne;J=!0;var U=(E==null||(z=E.format("HH:mm"))===null||z===void 0||(ne=z.split(":"))===null||ne===void 0?void 0:ne.map(Number))||[],F=(0,a.Z)(U,2);M=F[0],b=F[1]}else if(n){var me,ce,ve=(n==null||(me=n.format("HH:mm"))===null||me===void 0||(ce=me.split(":"))===null||ce===void 0?void 0:ce.map(Number))||[],fe=(0,a.Z)(ve,2);M=fe[0],b=fe[1]}return{disabledHours:function(){return new Array(24).fill(0).map(function(Z,C){return C}).filter(function(Z){if((E||n)&&P){var C=h();if(C===0)return J?Z<M&&Z>-1:Z<24&&Z>M;if(C===o-1)return J?Z>M:Z<M}return!1})},disabledMinutes:function(){return new Array(60).fill(0).map(function(Z,C){return C}).filter(function(Z){if((E||n)&&P){var C=h();if(C===0&&oe===M)return J?Z<b:Z>b;if(C===o-1&&oe===M)return J?Z>b:Z<b}return!1})}}},y=function(_){var i=new Date(_),o=i.getFullYear()+".",c=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+".",E=i.getDate()<10?"0"+i.getDate():i.getDate();return o+c+E},g=function(_){var i=new Date(_),o=i.getFullYear()+".",c=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+".",E=(i.getDate()<10?"0"+i.getDate():i.getDate())+" ",n=(i.getHours()<10?"0"+i.getHours():i.getHours())+":",h=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes();return o+c+E+n+h},A=function(_){return Date.parse(y(_))/1e3}},28617:function(x,O,e){"use strict";e.d(O,{r:function(){return s}});var a=e(34792),u=e(48086),s=function(m,f){var y=new FileReader;y.readAsText(m,"utf-8"),m.type==="application/json"?y.onload=function(){var g=JSON.parse((y==null?void 0:y.result)+""),A=g.msg;u.default.warn(A)}:y.onload=function(){var g=window.URL.createObjectURL(m),A=document.createElement("a");A.href=g,A.download=f+".xlsx",document.body.appendChild(A),A.click(),document.body.removeChild(A)}}},96874:function(x){function O(e,a,u){switch(u.length){case 0:return e.call(a);case 1:return e.call(a,u[0]);case 2:return e.call(a,u[0],u[1]);case 3:return e.call(a,u[0],u[1],u[2])}return e.apply(a,u)}x.exports=O},21078:function(x,O,e){var a=e(62488),u=e(37285);function s(l,m,f,y,g){var A=-1,I=l.length;for(f||(f=u),g||(g=[]);++A<I;){var _=l[A];m>0&&f(_)?m>1?s(_,m-1,f,y,g):a(g,_):y||(g[g.length]=_)}return g}x.exports=s},25970:function(x,O,e){var a=e(63012),u=e(79095);function s(l,m){return a(l,m,function(f,y){return u(l,y)})}x.exports=s},63012:function(x,O,e){var a=e(97786),u=e(10611),s=e(71811);function l(m,f,y){for(var g=-1,A=f.length,I={};++g<A;){var _=f[g],i=a(m,_);y(i,_)&&u(I,s(_,m),i)}return I}x.exports=l},10611:function(x,O,e){var a=e(34865),u=e(71811),s=e(65776),l=e(13218),m=e(40327);function f(y,g,A,I){if(!l(y))return y;g=u(g,y);for(var _=-1,i=g.length,o=i-1,c=y;c!=null&&++_<i;){var E=m(g[_]),n=A;if(E==="__proto__"||E==="constructor"||E==="prototype")return y;if(_!=o){var h=c[E];n=I?I(h,E,c):void 0,n===void 0&&(n=l(h)?h:s(g[_+1])?[]:{})}a(c,E,n),c=c[E]}return y}x.exports=f},56560:function(x,O,e){var a=e(75703),u=e(38777),s=e(6557),l=u?function(m,f){return u(m,"toString",{configurable:!0,enumerable:!1,value:a(f),writable:!0})}:s;x.exports=l},99021:function(x,O,e){var a=e(85564),u=e(45357),s=e(30061);function l(m){return s(u(m,void 0,a),m+"")}x.exports=l},37285:function(x,O,e){var a=e(62705),u=e(35694),s=e(1469),l=a?a.isConcatSpreadable:void 0;function m(f){return s(f)||u(f)||!!(l&&f&&f[l])}x.exports=m},45357:function(x,O,e){var a=e(96874),u=Math.max;function s(l,m,f){return m=u(m===void 0?l.length-1:m,0),function(){for(var y=arguments,g=-1,A=u(y.length-m,0),I=Array(A);++g<A;)I[g]=y[m+g];g=-1;for(var _=Array(m+1);++g<m;)_[g]=y[g];return _[m]=f(I),a(l,this,_)}}x.exports=s},30061:function(x,O,e){var a=e(56560),u=e(21275),s=u(a);x.exports=s},21275:function(x){var O=800,e=16,a=Date.now;function u(s){var l=0,m=0;return function(){var f=a(),y=e-(f-m);if(m=f,y>0){if(++l>=O)return arguments[0]}else l=0;return s.apply(void 0,arguments)}}x.exports=u},75703:function(x){function O(e){return function(){return e}}x.exports=O},85564:function(x,O,e){var a=e(21078);function u(s){var l=s==null?0:s.length;return l?a(s,1):[]}x.exports=u},78718:function(x,O,e){var a=e(25970),u=e(99021),s=u(function(l,m){return l==null?{}:a(l,m)});x.exports=s}}]);
